(()=>{"use strict";var e={445:function(e,t,r){r.d(t,{A:()=>a});var n=r(947),o=r.n(n),i=r(529),l=r.n(i)()(o());l.push([e.id,'.md-wysiwyg-editor-wrapper{background-color:var(--bg-color,#fff);border:1px solid var(--border-color,#ddd);border-radius:8px;color:var(--text-color,#24292e);display:flex;flex-direction:column;overflow:hidden;position:relative}.md-wysiwyg-editor-wrapper[data-theme=light]{--bg-color:#fff;--text-color:#24292e;--border-color:#ddd;--toolbar-bg:#f7f7f7;--toolbar-border:#ddd;--button-bg:#fff;--button-hover:#e9e9e9;--button-active:#007bff;--button-border:#ccc;--button-text:#24292e;--input-bg:#fff;--editable-bg:#fff}.md-wysiwyg-editor-wrapper[data-theme=dark]{--bg-color:#0d1117;--text-color:#f0f6fc;--border-color:#30363d;--toolbar-bg:#161b22;--toolbar-border:#30363d;--button-bg:#21262d;--button-hover:#30363d;--button-active:#1f6feb;--button-border:#30363d;--button-text:#f0f6fc;--input-bg:#0d1117;--editable-bg:#0d1117}.md-toolbar{align-items:center;background-color:var(--toolbar-bg);border-bottom:1px solid var(--toolbar-border);display:flex;flex-wrap:wrap;gap:5px;padding:8px 10px}.md-toolbar-button{align-items:center;background-color:var(--button-bg);border:1px solid var(--button-border);border-radius:4px;color:var(--button-text);cursor:pointer;display:inline-flex;font-size:14px;justify-content:center;min-height:30px;min-width:30px;padding:6px 8px;transition:background-color .2s ease}.md-toolbar-button:hover{background-color:var(--button-hover);border-color:var(--button-border)}.md-toolbar-button.active{background-color:var(--button-active);border-color:var(--button-active);color:var(--bg-color)}.md-toolbar-button.disabled,.md-toolbar-button:disabled{cursor:not-allowed;opacity:.5;pointer-events:none}.md-toolbar-button svg{height:18px;vertical-align:middle;width:18px}.md-editor-content-area{display:flex;flex-direction:column;height:500px;position:relative}.md-editable-area{word-wrap:break-word;background-color:var(--editable-bg);border:none;box-sizing:border-box;color:var(--text-color);font-size:15px;height:100%;line-height:1.7;outline:none;overflow-y:auto;padding:15px;width:100%}.md-editable-area h1{font-size:2em;margin-bottom:.67em;margin-top:.67em}.md-editable-area h1,.md-editable-area h2{border-bottom:1px solid #eee;font-weight:700;padding-bottom:.3em}.md-editable-area h2{font-size:1.5em;margin-bottom:.83em;margin-top:.83em}.md-editable-area h3{font-size:1.17em;font-weight:700;margin-bottom:1em;margin-top:1em}.md-editable-area p{margin-bottom:1em}.md-editable-area b,.md-editable-area strong{font-weight:700}.md-editable-area em,.md-editable-area i{font-style:italic}.md-editable-area del,.md-editable-area s{text-decoration:line-through}.md-editable-area a{color:#0366d6;text-decoration:underline}.md-editable-area ol,.md-editable-area ul{margin-bottom:1em;margin-left:20px}.md-editable-area li{margin-bottom:.2em}.md-editable-area blockquote{border-left:3px solid #007bff;font-style:italic;margin-bottom:1em;margin-left:0;padding-left:1em}.md-editable-area blockquote p{margin-bottom:.5em}.md-editable-area pre{border-radius:4px;font-size:.9em;margin-bottom:1em;overflow-x:auto;padding:10px;white-space:pre}.md-editable-area code,.md-editable-area pre{background-color:var(--toolbar-bg,#f0f0f0);font-family:Menlo,Consolas,monospace}.md-editable-area code{border-radius:3px;padding:.1em .3em}.md-editable-area pre code{background-color:transparent;font-size:inherit;padding:0}.md-editable-area hr{border:0;border-top:1px solid #eee;margin-bottom:1em;margin-top:1em}.md-editable-area table{border:1px solid #ddd;border-collapse:collapse;margin-bottom:1em;width:100%}.md-editable-area td,.md-editable-area th{border:1px solid #ddd;min-width:50px;padding:8px 10px;text-align:left}.md-editable-area th{background-color:var(--toolbar-bg,#f7f7f7);font-weight:700}.md-editable-area td:empty:before,.md-editable-area th:empty:before{content:"\\200B"}.md-markdown-editor-container{background-color:#fff;box-sizing:border-box;color:#333;display:flex;display:none;font-family:Menlo,Consolas,monospace;height:100%;width:100%}.md-markdown-line-numbers{background-color:#f7f7f7;border-right:1px solid #ddd;box-sizing:border-box;color:#888;overflow:hidden;padding:15px 10px 15px 15px;text-align:right;user-select:none}.md-markdown-textarea-wrapper{flex-grow:1;height:100%;overflow:hidden;position:relative}.md-markdown-area{background-color:var(--bg-color,transparent);border:none;box-sizing:border-box;color:var(--text-color,inherit);font-family:inherit;height:100%;outline:none;overflow-y:auto;padding:15px;resize:none;width:100%}.md-tabs{background-color:var(--toolbar-bg);border-top:1px solid var(--border-color);display:flex}.md-tab-button{background-color:transparent;border:none;border-right:1px solid var(--border-color);color:var(--text-color);cursor:pointer;font-size:14px;padding:10px 15px}.md-tab-button:last-child{border-right:none}.md-tab-button.active{background-color:var(--bg-color);border-bottom:2px solid var(--button-active);color:var(--button-active);font-weight:700;margin-bottom:-1px}.md-tab-button:hover:not(.active){background-color:var(--button-hover)}.md-toolbar-separator{align-self:center;background-color:#ddd;height:22px;margin:0 6px;width:1px}.editor-toolbar{align-items:center;background-color:#f7f7f7;border-bottom:1px solid #ddd;display:flex;flex-wrap:wrap;gap:5px;padding:8px 10px}.toolbar-button{align-items:center;background-color:#fff;border:1px solid #ccc;border-radius:4px;cursor:pointer;display:inline-flex;font-size:14px;justify-content:center;min-height:30px;min-width:30px;padding:6px 8px;transition:background-color .2s ease}.toolbar-button:hover{background-color:#e9e9e9;border-color:#bbb}.toolbar-separator{align-self:center;background-color:#ddd;height:22px;margin:0 6px;width:1px}.editor-mode-toggle{display:flex;margin-left:auto}.mode-button{background-color:transparent;border:none;border-right:1px solid #ddd;color:#555;cursor:pointer;font-size:14px;padding:10px 15px}.mode-button:last-child{border-right:none}.mode-button.active{background-color:#fff;border-bottom:2px solid #007bff;color:#007bff;font-weight:700;margin-bottom:-1px}.mode-button:hover:not(.active){background-color:#e9e9e9}.editor-content{display:flex;flex-direction:column;height:500px;position:relative}.editor-textarea{background-color:transparent;color:#333;font-family:Menlo,Consolas,monospace;resize:none}.editor-textarea,.editor-wysiwyg{border:none;box-sizing:border-box;font-size:15px;height:100%;line-height:1.7;outline:none;overflow-y:auto;padding:15px;width:100%}.editor-wysiwyg{word-wrap:break-word;background-color:#fff}.editor-wysiwyg:empty:before{color:#999;content:attr(data-placeholder);pointer-events:none}.editor-wysiwyg h1{font-size:2em;margin-bottom:.67em;margin-top:.67em}.editor-wysiwyg h1,.editor-wysiwyg h2{border-bottom:1px solid #eee;font-weight:700;padding-bottom:.3em}.editor-wysiwyg h2{font-size:1.5em;margin-bottom:.83em;margin-top:.83em}.editor-wysiwyg h3{font-size:1.17em;font-weight:700;margin-bottom:1em;margin-top:1em}.editor-wysiwyg p{margin-bottom:1em}.editor-wysiwyg b,.editor-wysiwyg strong{font-weight:700}.editor-wysiwyg em,.editor-wysiwyg i{font-style:italic}.editor-wysiwyg a{color:#0366d6;text-decoration:underline}.editor-wysiwyg ol,.editor-wysiwyg ul{margin-bottom:1em;margin-left:20px}.editor-wysiwyg li{margin-bottom:.2em}.editor-wysiwyg blockquote{border-left:3px solid #007bff;color:#555;font-style:italic;margin-bottom:1em;margin-left:0;padding-left:1em}.editor-wysiwyg pre{border-radius:4px;font-size:.9em;margin-bottom:1em;overflow-x:auto;padding:10px;white-space:pre}.editor-wysiwyg code,.editor-wysiwyg pre{background-color:var(--toolbar-bg,#f0f0f0);font-family:Menlo,Consolas,monospace}.editor-wysiwyg code{border-radius:3px;padding:.1em .3em}.editor-wysiwyg table{border:1px solid #ddd;border-collapse:collapse;margin-bottom:1em;width:100%}.editor-wysiwyg td,.editor-wysiwyg th{border:1px solid #ddd;min-width:50px;padding:8px 10px;text-align:left}.editor-wysiwyg th{background-color:var(--toolbar-bg,#f7f7f7);font-weight:700}.editor-preview{background-color:#fff;border-top:1px solid #ddd;color:#333;line-height:1.7;max-height:500px;overflow-y:auto;padding:15px}.table-context-menu{position:fixed}.table-menu-content{background:var(--button-bg,#fff);border:1px solid var(--border-color,#ddd);border-radius:6px;box-shadow:0 4px 16px rgba(0,0,0,.1);min-width:180px;padding:4px 0}.table-menu-item{align-items:center;background:var(--button-bg,#fff);border:none;color:var(--text-color,#333);cursor:pointer;display:flex;font-size:14px;gap:8px;padding:8px 12px;text-align:left;transition:background-color .15s ease;width:100%}.table-menu-item:focus,.table-menu-item:hover{background-color:var(--button-hover,#f5f5f5);outline:none}.table-menu-item.danger{color:#dc3545}.table-menu-item.danger:focus,.table-menu-item.danger:hover{background-color:#ffeaea}.table-menu-icon{font-size:12px;min-width:16px;opacity:.7;text-align:center}.table-menu-label{flex:1}.table-menu-separator{background-color:#eee;height:1px;margin:4px 0}.dropdown-menu-container{position:fixed;z-index:1000}.dropdown-backdrop{bottom:0;left:0;position:fixed;right:0;top:0;z-index:999}.dropdown-menu-content{background:var(--button-bg,#fff);border:1px solid var(--border-color,#ddd);border-radius:6px;box-shadow:0 4px 16px rgba(0,0,0,.1);max-height:300px;min-width:180px;overflow-y:auto;padding:4px 0;position:relative;z-index:1001}.dropdown-menu-item{align-items:center;background:var(--button-bg,#fff);border:none;color:var(--text-color,#333);cursor:pointer;display:flex;font-size:14px;gap:8px;padding:8px 12px;text-align:left;transition:background-color .15s ease;width:100%}.dropdown-menu-item.selected,.dropdown-menu-item:focus,.dropdown-menu-item:hover{background-color:var(--button-hover,#f5f5f5);outline:none}.dropdown-menu-icon{align-items:center;display:flex;justify-content:center;min-width:16px;opacity:.7;text-align:center}.dropdown-menu-icon svg{height:16px;width:16px}.dropdown-menu-label{flex:1;font-weight:500}.dropdown-menu-shortcut{font-family:monospace;font-size:12px;opacity:.6}.md-toolbar-button.has-dropdown{position:relative}.md-toolbar-button.has-dropdown:after{border-left:3px solid transparent;border-right:3px solid transparent;border-top:3px solid;bottom:2px;content:"";height:0;opacity:.6;position:absolute;right:2px;width:0}.md-wysiwyg-editor-wrapper[data-theme=dark] .dropdown-menu-content{background:var(--button-bg);border-color:var(--border-color);color:var(--text-color)}.md-wysiwyg-editor-wrapper[data-theme=dark] .dropdown-menu-item{background:var(--button-bg);color:var(--text-color)}.md-wysiwyg-editor-wrapper[data-theme=dark] .dropdown-menu-item.selected,.md-wysiwyg-editor-wrapper[data-theme=dark] .dropdown-menu-item:focus,.md-wysiwyg-editor-wrapper[data-theme=dark] .dropdown-menu-item:hover{background-color:var(--button-hover)}',"",{version:3,sources:["webpack://./../lib/dist/index.css"],names:[],mappings:"AAAA,2BAA2B,qCAAqC,CAAC,yCAAyC,CAAC,iBAAiB,CAAC,+BAA+B,CAAC,YAAY,CAAC,qBAAqB,CAAC,eAAe,CAAC,iBAAiB,CAAC,6CAA6C,eAAe,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,sBAAsB,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,eAAe,CAAC,kBAAkB,CAAC,4CAA4C,kBAAkB,CAAC,oBAAoB,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,wBAAwB,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,uBAAuB,CAAC,uBAAuB,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,YAAY,kBAAkB,CAAC,kCAAkC,CAAC,6CAA6C,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC,mBAAmB,kBAAkB,CAAC,iCAAiC,CAAC,qCAAqC,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,cAAc,CAAC,mBAAmB,CAAC,cAAc,CAAC,sBAAsB,CAAC,eAAe,CAAC,cAAc,CAAC,eAAe,CAAC,oCAAoC,CAAC,yBAAyB,oCAAoC,CAAC,iCAAiC,CAAC,0BAA0B,qCAAqC,CAAC,iCAAiC,CAAC,qBAAqB,CAAC,wDAAwD,kBAAkB,CAAC,UAAU,CAAC,mBAAmB,CAAC,uBAAuB,WAAW,CAAC,qBAAqB,CAAC,UAAU,CAAC,wBAAwB,YAAY,CAAC,qBAAqB,CAAC,YAAY,CAAC,iBAAiB,CAAC,kBAAkB,oBAAoB,CAAC,mCAAmC,CAAC,WAAW,CAAC,qBAAqB,CAAC,uBAAuB,CAAC,cAAc,CAAC,WAAW,CAAC,eAAe,CAAC,YAAY,CAAC,eAAe,CAAC,YAAY,CAAC,UAAU,CAAC,qBAAqB,aAAa,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,0CAA0C,4BAA4B,CAAC,eAAe,CAAC,mBAAmB,CAAC,qBAAqB,eAAe,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,qBAAqB,gBAAgB,CAAC,eAAe,CAAC,iBAAiB,CAAC,cAAc,CAAC,oBAAoB,iBAAiB,CAAC,6CAA6C,eAAe,CAAC,yCAAyC,iBAAiB,CAAC,0CAA0C,4BAA4B,CAAC,oBAAoB,aAAa,CAAC,yBAAyB,CAAC,0CAA0C,iBAAiB,CAAC,gBAAgB,CAAC,qBAAqB,kBAAkB,CAAC,6BAA6B,6BAA6B,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,aAAa,CAAC,gBAAgB,CAAC,+BAA+B,kBAAkB,CAAC,sBAAsB,iBAAiB,CAAC,cAAc,CAAC,iBAAiB,CAAC,eAAe,CAAC,YAAY,CAAC,eAAe,CAAC,6CAA6C,0CAA0C,CAAC,oCAAoC,CAAC,uBAAuB,iBAAiB,CAAC,iBAAiB,CAAC,2BAA2B,4BAA4B,CAAC,iBAAiB,CAAC,SAAS,CAAC,qBAAqB,QAAQ,CAAC,yBAAyB,CAAC,iBAAiB,CAAC,cAAc,CAAC,wBAAwB,qBAAqB,CAAC,wBAAwB,CAAC,iBAAiB,CAAC,UAAU,CAAC,0CAA0C,qBAAqB,CAAC,cAAc,CAAC,gBAAgB,CAAC,eAAe,CAAC,qBAAqB,0CAA0C,CAAC,eAAe,CAAC,oEAAoE,eAAe,CAAC,8BAA8B,qBAAqB,CAAC,qBAAqB,CAAC,UAAU,CAAC,YAAY,CAAC,YAAY,CAAC,oCAAoC,CAAC,WAAW,CAAC,UAAU,CAAC,0BAA0B,wBAAwB,CAAC,2BAA2B,CAAC,qBAAqB,CAAC,UAAU,CAAC,eAAe,CAAC,2BAA2B,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,8BAA8B,WAAW,CAAC,WAAW,CAAC,eAAe,CAAC,iBAAiB,CAAC,kBAAkB,4CAA4C,CAAC,WAAW,CAAC,qBAAqB,CAAC,+BAA+B,CAAC,mBAAmB,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,YAAY,CAAC,WAAW,CAAC,UAAU,CAAC,SAAS,kCAAkC,CAAC,wCAAwC,CAAC,YAAY,CAAC,eAAe,4BAA4B,CAAC,WAAW,CAAC,0CAA0C,CAAC,uBAAuB,CAAC,cAAc,CAAC,cAAc,CAAC,iBAAiB,CAAC,0BAA0B,iBAAiB,CAAC,sBAAsB,gCAAgC,CAAC,4CAA4C,CAAC,0BAA0B,CAAC,eAAe,CAAC,kBAAkB,CAAC,kCAAkC,oCAAoC,CAAC,sBAAsB,iBAAiB,CAAC,qBAAqB,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC,gBAAgB,kBAAkB,CAAC,wBAAwB,CAAC,4BAA4B,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC,gBAAgB,kBAAkB,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,cAAc,CAAC,mBAAmB,CAAC,cAAc,CAAC,sBAAsB,CAAC,eAAe,CAAC,cAAc,CAAC,eAAe,CAAC,oCAAoC,CAAC,sBAAsB,wBAAwB,CAAC,iBAAiB,CAAC,mBAAmB,iBAAiB,CAAC,qBAAqB,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC,oBAAoB,YAAY,CAAC,gBAAgB,CAAC,aAAa,4BAA4B,CAAC,WAAW,CAAC,2BAA2B,CAAC,UAAU,CAAC,cAAc,CAAC,cAAc,CAAC,iBAAiB,CAAC,wBAAwB,iBAAiB,CAAC,oBAAoB,qBAAqB,CAAC,+BAA+B,CAAC,aAAa,CAAC,eAAe,CAAC,kBAAkB,CAAC,gCAAgC,wBAAwB,CAAC,gBAAgB,YAAY,CAAC,qBAAqB,CAAC,YAAY,CAAC,iBAAiB,CAAC,iBAAiB,4BAA4B,CAAC,UAAU,CAAC,oCAAoC,CAAC,WAAW,CAAC,iCAAiC,WAAW,CAAC,qBAAqB,CAAC,cAAc,CAAC,WAAW,CAAC,eAAe,CAAC,YAAY,CAAC,eAAe,CAAC,YAAY,CAAC,UAAU,CAAC,gBAAgB,oBAAoB,CAAC,qBAAqB,CAAC,6BAA6B,UAAU,CAAC,8BAA8B,CAAC,mBAAmB,CAAC,mBAAmB,aAAa,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,sCAAsC,4BAA4B,CAAC,eAAe,CAAC,mBAAmB,CAAC,mBAAmB,eAAe,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,mBAAmB,gBAAgB,CAAC,eAAe,CAAC,iBAAiB,CAAC,cAAc,CAAC,kBAAkB,iBAAiB,CAAC,yCAAyC,eAAe,CAAC,qCAAqC,iBAAiB,CAAC,kBAAkB,aAAa,CAAC,yBAAyB,CAAC,sCAAsC,iBAAiB,CAAC,gBAAgB,CAAC,mBAAmB,kBAAkB,CAAC,2BAA2B,6BAA6B,CAAC,UAAU,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,aAAa,CAAC,gBAAgB,CAAC,oBAAoB,iBAAiB,CAAC,cAAc,CAAC,iBAAiB,CAAC,eAAe,CAAC,YAAY,CAAC,eAAe,CAAC,yCAAyC,0CAA0C,CAAC,oCAAoC,CAAC,qBAAqB,iBAAiB,CAAC,iBAAiB,CAAC,sBAAsB,qBAAqB,CAAC,wBAAwB,CAAC,iBAAiB,CAAC,UAAU,CAAC,sCAAsC,qBAAqB,CAAC,cAAc,CAAC,gBAAgB,CAAC,eAAe,CAAC,mBAAmB,0CAA0C,CAAC,eAAe,CAAC,gBAAgB,qBAAqB,CAAC,yBAAyB,CAAC,UAAU,CAAC,eAAe,CAAC,gBAAgB,CAAC,eAAe,CAAC,YAAY,CAAC,oBAAoB,cAAc,CAAC,oBAAoB,gCAAgC,CAAC,yCAAyC,CAAC,iBAAiB,CAAC,oCAAoC,CAAC,eAAe,CAAC,aAAa,CAAC,iBAAiB,kBAAkB,CAAC,gCAAgC,CAAC,WAAW,CAAC,4BAA4B,CAAC,cAAc,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC,eAAe,CAAC,qCAAqC,CAAC,UAAU,CAAC,8CAA8C,4CAA4C,CAAC,YAAY,CAAC,wBAAwB,aAAa,CAAC,4DAA4D,wBAAwB,CAAC,iBAAiB,cAAc,CAAC,cAAc,CAAC,UAAU,CAAC,iBAAiB,CAAC,kBAAkB,MAAM,CAAC,sBAAsB,qBAAqB,CAAC,UAAU,CAAC,YAAY,CAAC,yBAAyB,cAAc,CAAC,YAAY,CAAC,mBAAmB,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,uBAAuB,gCAAgC,CAAC,yCAAyC,CAAC,iBAAiB,CAAC,oCAAoC,CAAC,gBAAgB,CAAC,eAAe,CAAC,eAAe,CAAC,aAAa,CAAC,iBAAiB,CAAC,YAAY,CAAC,oBAAoB,kBAAkB,CAAC,gCAAgC,CAAC,WAAW,CAAC,4BAA4B,CAAC,cAAc,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC,eAAe,CAAC,qCAAqC,CAAC,UAAU,CAAC,iFAAiF,4CAA4C,CAAC,YAAY,CAAC,oBAAoB,kBAAkB,CAAC,YAAY,CAAC,sBAAsB,CAAC,cAAc,CAAC,UAAU,CAAC,iBAAiB,CAAC,wBAAwB,WAAW,CAAC,UAAU,CAAC,qBAAqB,MAAM,CAAC,eAAe,CAAC,wBAAwB,qBAAqB,CAAC,cAAc,CAAC,UAAU,CAAC,gCAAgC,iBAAiB,CAAC,sCAAsC,iCAAiC,CAAC,kCAAkC,CAAC,oBAAoB,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC,iBAAiB,CAAC,SAAS,CAAC,OAAO,CAAC,mEAAmE,2BAA2B,CAAC,gCAAgC,CAAC,uBAAuB,CAAC,gEAAgE,2BAA2B,CAAC,uBAAuB,CAAC,qNAAqN,oCAAoC",sourcesContent:['.md-wysiwyg-editor-wrapper{background-color:var(--bg-color,#fff);border:1px solid var(--border-color,#ddd);border-radius:8px;color:var(--text-color,#24292e);display:flex;flex-direction:column;overflow:hidden;position:relative}.md-wysiwyg-editor-wrapper[data-theme=light]{--bg-color:#fff;--text-color:#24292e;--border-color:#ddd;--toolbar-bg:#f7f7f7;--toolbar-border:#ddd;--button-bg:#fff;--button-hover:#e9e9e9;--button-active:#007bff;--button-border:#ccc;--button-text:#24292e;--input-bg:#fff;--editable-bg:#fff}.md-wysiwyg-editor-wrapper[data-theme=dark]{--bg-color:#0d1117;--text-color:#f0f6fc;--border-color:#30363d;--toolbar-bg:#161b22;--toolbar-border:#30363d;--button-bg:#21262d;--button-hover:#30363d;--button-active:#1f6feb;--button-border:#30363d;--button-text:#f0f6fc;--input-bg:#0d1117;--editable-bg:#0d1117}.md-toolbar{align-items:center;background-color:var(--toolbar-bg);border-bottom:1px solid var(--toolbar-border);display:flex;flex-wrap:wrap;gap:5px;padding:8px 10px}.md-toolbar-button{align-items:center;background-color:var(--button-bg);border:1px solid var(--button-border);border-radius:4px;color:var(--button-text);cursor:pointer;display:inline-flex;font-size:14px;justify-content:center;min-height:30px;min-width:30px;padding:6px 8px;transition:background-color .2s ease}.md-toolbar-button:hover{background-color:var(--button-hover);border-color:var(--button-border)}.md-toolbar-button.active{background-color:var(--button-active);border-color:var(--button-active);color:var(--bg-color)}.md-toolbar-button.disabled,.md-toolbar-button:disabled{cursor:not-allowed;opacity:.5;pointer-events:none}.md-toolbar-button svg{height:18px;vertical-align:middle;width:18px}.md-editor-content-area{display:flex;flex-direction:column;height:500px;position:relative}.md-editable-area{word-wrap:break-word;background-color:var(--editable-bg);border:none;box-sizing:border-box;color:var(--text-color);font-size:15px;height:100%;line-height:1.7;outline:none;overflow-y:auto;padding:15px;width:100%}.md-editable-area h1{font-size:2em;margin-bottom:.67em;margin-top:.67em}.md-editable-area h1,.md-editable-area h2{border-bottom:1px solid #eee;font-weight:700;padding-bottom:.3em}.md-editable-area h2{font-size:1.5em;margin-bottom:.83em;margin-top:.83em}.md-editable-area h3{font-size:1.17em;font-weight:700;margin-bottom:1em;margin-top:1em}.md-editable-area p{margin-bottom:1em}.md-editable-area b,.md-editable-area strong{font-weight:700}.md-editable-area em,.md-editable-area i{font-style:italic}.md-editable-area del,.md-editable-area s{text-decoration:line-through}.md-editable-area a{color:#0366d6;text-decoration:underline}.md-editable-area ol,.md-editable-area ul{margin-bottom:1em;margin-left:20px}.md-editable-area li{margin-bottom:.2em}.md-editable-area blockquote{border-left:3px solid #007bff;font-style:italic;margin-bottom:1em;margin-left:0;padding-left:1em}.md-editable-area blockquote p{margin-bottom:.5em}.md-editable-area pre{border-radius:4px;font-size:.9em;margin-bottom:1em;overflow-x:auto;padding:10px;white-space:pre}.md-editable-area code,.md-editable-area pre{background-color:var(--toolbar-bg,#f0f0f0);font-family:Menlo,Consolas,monospace}.md-editable-area code{border-radius:3px;padding:.1em .3em}.md-editable-area pre code{background-color:transparent;font-size:inherit;padding:0}.md-editable-area hr{border:0;border-top:1px solid #eee;margin-bottom:1em;margin-top:1em}.md-editable-area table{border:1px solid #ddd;border-collapse:collapse;margin-bottom:1em;width:100%}.md-editable-area td,.md-editable-area th{border:1px solid #ddd;min-width:50px;padding:8px 10px;text-align:left}.md-editable-area th{background-color:var(--toolbar-bg,#f7f7f7);font-weight:700}.md-editable-area td:empty:before,.md-editable-area th:empty:before{content:"\\200B"}.md-markdown-editor-container{background-color:#fff;box-sizing:border-box;color:#333;display:flex;display:none;font-family:Menlo,Consolas,monospace;height:100%;width:100%}.md-markdown-line-numbers{background-color:#f7f7f7;border-right:1px solid #ddd;box-sizing:border-box;color:#888;overflow:hidden;padding:15px 10px 15px 15px;text-align:right;user-select:none}.md-markdown-textarea-wrapper{flex-grow:1;height:100%;overflow:hidden;position:relative}.md-markdown-area{background-color:var(--bg-color,transparent);border:none;box-sizing:border-box;color:var(--text-color,inherit);font-family:inherit;height:100%;outline:none;overflow-y:auto;padding:15px;resize:none;width:100%}.md-tabs{background-color:var(--toolbar-bg);border-top:1px solid var(--border-color);display:flex}.md-tab-button{background-color:transparent;border:none;border-right:1px solid var(--border-color);color:var(--text-color);cursor:pointer;font-size:14px;padding:10px 15px}.md-tab-button:last-child{border-right:none}.md-tab-button.active{background-color:var(--bg-color);border-bottom:2px solid var(--button-active);color:var(--button-active);font-weight:700;margin-bottom:-1px}.md-tab-button:hover:not(.active){background-color:var(--button-hover)}.md-toolbar-separator{align-self:center;background-color:#ddd;height:22px;margin:0 6px;width:1px}.editor-toolbar{align-items:center;background-color:#f7f7f7;border-bottom:1px solid #ddd;display:flex;flex-wrap:wrap;gap:5px;padding:8px 10px}.toolbar-button{align-items:center;background-color:#fff;border:1px solid #ccc;border-radius:4px;cursor:pointer;display:inline-flex;font-size:14px;justify-content:center;min-height:30px;min-width:30px;padding:6px 8px;transition:background-color .2s ease}.toolbar-button:hover{background-color:#e9e9e9;border-color:#bbb}.toolbar-separator{align-self:center;background-color:#ddd;height:22px;margin:0 6px;width:1px}.editor-mode-toggle{display:flex;margin-left:auto}.mode-button{background-color:transparent;border:none;border-right:1px solid #ddd;color:#555;cursor:pointer;font-size:14px;padding:10px 15px}.mode-button:last-child{border-right:none}.mode-button.active{background-color:#fff;border-bottom:2px solid #007bff;color:#007bff;font-weight:700;margin-bottom:-1px}.mode-button:hover:not(.active){background-color:#e9e9e9}.editor-content{display:flex;flex-direction:column;height:500px;position:relative}.editor-textarea{background-color:transparent;color:#333;font-family:Menlo,Consolas,monospace;resize:none}.editor-textarea,.editor-wysiwyg{border:none;box-sizing:border-box;font-size:15px;height:100%;line-height:1.7;outline:none;overflow-y:auto;padding:15px;width:100%}.editor-wysiwyg{word-wrap:break-word;background-color:#fff}.editor-wysiwyg:empty:before{color:#999;content:attr(data-placeholder);pointer-events:none}.editor-wysiwyg h1{font-size:2em;margin-bottom:.67em;margin-top:.67em}.editor-wysiwyg h1,.editor-wysiwyg h2{border-bottom:1px solid #eee;font-weight:700;padding-bottom:.3em}.editor-wysiwyg h2{font-size:1.5em;margin-bottom:.83em;margin-top:.83em}.editor-wysiwyg h3{font-size:1.17em;font-weight:700;margin-bottom:1em;margin-top:1em}.editor-wysiwyg p{margin-bottom:1em}.editor-wysiwyg b,.editor-wysiwyg strong{font-weight:700}.editor-wysiwyg em,.editor-wysiwyg i{font-style:italic}.editor-wysiwyg a{color:#0366d6;text-decoration:underline}.editor-wysiwyg ol,.editor-wysiwyg ul{margin-bottom:1em;margin-left:20px}.editor-wysiwyg li{margin-bottom:.2em}.editor-wysiwyg blockquote{border-left:3px solid #007bff;color:#555;font-style:italic;margin-bottom:1em;margin-left:0;padding-left:1em}.editor-wysiwyg pre{border-radius:4px;font-size:.9em;margin-bottom:1em;overflow-x:auto;padding:10px;white-space:pre}.editor-wysiwyg code,.editor-wysiwyg pre{background-color:var(--toolbar-bg,#f0f0f0);font-family:Menlo,Consolas,monospace}.editor-wysiwyg code{border-radius:3px;padding:.1em .3em}.editor-wysiwyg table{border:1px solid #ddd;border-collapse:collapse;margin-bottom:1em;width:100%}.editor-wysiwyg td,.editor-wysiwyg th{border:1px solid #ddd;min-width:50px;padding:8px 10px;text-align:left}.editor-wysiwyg th{background-color:var(--toolbar-bg,#f7f7f7);font-weight:700}.editor-preview{background-color:#fff;border-top:1px solid #ddd;color:#333;line-height:1.7;max-height:500px;overflow-y:auto;padding:15px}.table-context-menu{position:fixed}.table-menu-content{background:var(--button-bg,#fff);border:1px solid var(--border-color,#ddd);border-radius:6px;box-shadow:0 4px 16px rgba(0,0,0,.1);min-width:180px;padding:4px 0}.table-menu-item{align-items:center;background:var(--button-bg,#fff);border:none;color:var(--text-color,#333);cursor:pointer;display:flex;font-size:14px;gap:8px;padding:8px 12px;text-align:left;transition:background-color .15s ease;width:100%}.table-menu-item:focus,.table-menu-item:hover{background-color:var(--button-hover,#f5f5f5);outline:none}.table-menu-item.danger{color:#dc3545}.table-menu-item.danger:focus,.table-menu-item.danger:hover{background-color:#ffeaea}.table-menu-icon{font-size:12px;min-width:16px;opacity:.7;text-align:center}.table-menu-label{flex:1}.table-menu-separator{background-color:#eee;height:1px;margin:4px 0}.dropdown-menu-container{position:fixed;z-index:1000}.dropdown-backdrop{bottom:0;left:0;position:fixed;right:0;top:0;z-index:999}.dropdown-menu-content{background:var(--button-bg,#fff);border:1px solid var(--border-color,#ddd);border-radius:6px;box-shadow:0 4px 16px rgba(0,0,0,.1);max-height:300px;min-width:180px;overflow-y:auto;padding:4px 0;position:relative;z-index:1001}.dropdown-menu-item{align-items:center;background:var(--button-bg,#fff);border:none;color:var(--text-color,#333);cursor:pointer;display:flex;font-size:14px;gap:8px;padding:8px 12px;text-align:left;transition:background-color .15s ease;width:100%}.dropdown-menu-item.selected,.dropdown-menu-item:focus,.dropdown-menu-item:hover{background-color:var(--button-hover,#f5f5f5);outline:none}.dropdown-menu-icon{align-items:center;display:flex;justify-content:center;min-width:16px;opacity:.7;text-align:center}.dropdown-menu-icon svg{height:16px;width:16px}.dropdown-menu-label{flex:1;font-weight:500}.dropdown-menu-shortcut{font-family:monospace;font-size:12px;opacity:.6}.md-toolbar-button.has-dropdown{position:relative}.md-toolbar-button.has-dropdown:after{border-left:3px solid transparent;border-right:3px solid transparent;border-top:3px solid;bottom:2px;content:"";height:0;opacity:.6;position:absolute;right:2px;width:0}.md-wysiwyg-editor-wrapper[data-theme=dark] .dropdown-menu-content{background:var(--button-bg);border-color:var(--border-color);color:var(--text-color)}.md-wysiwyg-editor-wrapper[data-theme=dark] .dropdown-menu-item{background:var(--button-bg);color:var(--text-color)}.md-wysiwyg-editor-wrapper[data-theme=dark] .dropdown-menu-item.selected,.md-wysiwyg-editor-wrapper[data-theme=dark] .dropdown-menu-item:focus,.md-wysiwyg-editor-wrapper[data-theme=dark] .dropdown-menu-item:hover{background-color:var(--button-hover)}'],sourceRoot:""}]);let a=l},529:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r}).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(n)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(l[s]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);n&&l[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),r&&(c[2]&&(c[1]="@media ".concat(c[2]," {").concat(c[1],"}")),c[2]=r),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},947:function(e){e.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r))));return[t].concat(["/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n)," */")]).join("\n")}return[t].join("\n")}},302:function(e,t,r){var n=r(329);e.exports=function(e,t,r){var o=[],i=!1,l=-1;function a(){for(l=0;l<o.length;l+=2)try{e(o[l],n(o[l+1]),s)}catch(e){r.error(e)}l=-1}function s(){i||(i=!0,t(function(){i=!1,a()}))}return s.sync=a,{mount:function(t,r){if(null!=r&&null==r.view&&"function"!=typeof r)throw TypeError("m.mount expects a component, not a vnode.");var i=o.indexOf(t);i>=0&&(o.splice(i,2),i<=l&&(l-=2),e(t,[])),null!=r&&(o.push(t,r),e(t,n(r),s))},redraw:s}}},872:function(e,t,r){var n=r(329),o=r(970),i=r(743),l=r(652),a=r(288),s=r(345);function d(e){try{return decodeURIComponent(e)}catch(t){return e}}e.exports=function(e,t){var r,c,u,p,h,A,g,f,m=null==e?null:"function"==typeof e.setImmediate?e.setImmediate:e.setTimeout,b=Promise.resolve(),C=!1,x=!1,y=!1,w={onremove:function(){x=y=!1,e.removeEventListener("popstate",B,!1)},view:function(){var e=n(h,A.key,A);return p?p.render(e):[e]}},k=T.SKIP={};function v(){C=!1;var n=e.location.hash;"#"!==T.prefix[0]&&(n=e.location.search+n,"?"!==T.prefix[0]&&"/"!==(n=e.location.pathname+n)[0]&&(n="/"+n));var o=n.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,d).slice(T.prefix.length),i=l(o);function a(e){console.error(e),T.set(u,null,{replace:!0})}Object.assign(i.params,e.history.state),function e(n){for(;n<c.length;n++)if(c[n].check(i)){var l=c[n].component,s=c[n].route,d=l,m=f=function(a){if(m===f){if(a===k)return e(n+1);h=null!=a&&("function"==typeof a.view||"function"==typeof a)?a:"div",A=i.params,g=o,f=null,p=l.render?l:null,y?t.redraw():(y=!0,t.mount(r,w))}};l.view||"function"==typeof l?(l={},m(d)):l.onmatch?b.then(function(){return l.onmatch(i.params,o,s)}).then(m,o===u?null:a):m();return}if(o===u)throw Error("Could not resolve default route "+u+".");T.set(u,null,{replace:!0})}(0)}function B(){C||(C=!0,m(v))}function T(t,n,o){if(!t)throw TypeError("DOM element being rendered to does not exist.");if(c=Object.keys(o).map(function(e){if("/"!==e[0])throw SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:e,component:o[e],check:a(e)}}),u=n,null!=n){var i=l(n);if(!c.some(function(e){return e.check(i)}))throw ReferenceError("Default route doesn't match any known routes.")}r=t,e.addEventListener("popstate",B,!1),x=!0,v()}return T.set=function(t,r,n){if(null!=f&&((n=n||{}).replace=!0),f=null,t=i(t,r),x){B();var o=n?n.state:null,l=n?n.title:null;n&&n.replace?e.history.replaceState(o,l,T.prefix+t):e.history.pushState(o,l,T.prefix+t)}else e.location.href=T.prefix+t},T.get=function(){return g},T.prefix="#!",T.Link={view:function(e){var t,r,n,l=o(e.attrs.selector||"a",s(e.attrs,["options","params","selector","onclick"]),e.children);return(l.attrs.disabled=!!l.attrs.disabled)?(l.attrs.href=null,l.attrs["aria-disabled"]="true"):(t=e.attrs.options,r=e.attrs.onclick,n=i(l.attrs.href,e.attrs.params),l.attrs.href=T.prefix+n,l.attrs.onclick=function(e){var o;"function"==typeof r?o=r.call(e.currentTarget,e):null==r||"object"!=typeof r||"function"==typeof r.handleEvent&&r.handleEvent(e),!1===o||e.defaultPrevented||0!==e.button&&0!==e.which&&1!==e.which||e.currentTarget.target&&"_self"!==e.currentTarget.target||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(e.preventDefault(),e.redraw=!1,T.set(n,null,t))}),l}},T.param=function(e){return A&&null!=e?A[e]:A},T}},847:function(e,t,r){var n=r(970);n.trust=r(653),n.fragment=r(263),e.exports=n},114:function(e,t,r){var n=r(847),o=r(851),i=r(323),l=r(336),a=function(){return n.apply(this,arguments)};a.m=n,a.trust=n.trust,a.fragment=n.fragment,a.Fragment="[",a.mount=i.mount,a.route=r(487),a.render=r(932),a.redraw=i.redraw,a.request=o.request,a.parseQueryString=r(127),a.buildQueryString=r(60),a.parsePathname=r(652),a.buildPathname=r(743),a.vnode=r(329),a.censor=r(345),a.domFor=l.domFor,e.exports=a},323:function(e,t,r){var n=r(932);e.exports=r(302)(n,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null)},743:function(e,t,r){var n=r(60);e.exports=function(e,t){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==t)return e;var r=e.indexOf("?"),o=e.indexOf("#"),i=o<0?e.length:o,l=e.slice(0,r<0?i:r),a={};Object.assign(a,t);var s=l.replace(/:([^\/\.-]+)(\.{3})?/g,function(e,r,n){return(delete a[r],null==t[r])?e:n?t[r]:encodeURIComponent(String(t[r]))}),d=s.indexOf("?"),c=s.indexOf("#"),u=c<0?s.length:c,p=s.slice(0,d<0?u:d);r>=0&&(p+=e.slice(r,i)),d>=0&&(p+=(r<0?"?":"&")+s.slice(d,u));var h=n(a);return h&&(p+=(r<0&&d<0?"?":"&")+h),o>=0&&(p+=e.slice(o)),c>=0&&(p+=(o<0?"":"&")+s.slice(c)),p}},288:function(e,t,r){var n=r(652);e.exports=function(e){var t=n(e),r=Object.keys(t.params),o=[],i=RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(e,t,r){return null==t?"\\"+e:(o.push({k:t,r:"..."===r}),"..."===r)?"(.*)":"."===r?"([^/]+)\\.":"([^/]+)"+(r||"")})+"\\/?$");return function(e){for(var n=0;n<r.length;n++)if(t.params[r[n]]!==e.params[r[n]])return!1;if(!o.length)return i.test(e.path);var l=i.exec(e.path);if(null==l)return!1;for(var n=0;n<o.length;n++)e.params[o[n].k]=o[n].r?l[n+1]:decodeURIComponent(l[n+1]);return!0}}},652:function(e,t,r){var n=r(127);e.exports=function(e){var t=e.indexOf("?"),r=e.indexOf("#"),o=r<0?e.length:r,i=e.slice(0,t<0?o:t).replace(/\/{2,}/g,"/");return i?"/"!==i[0]&&(i="/"+i):i="/",{path:i,params:t<0?{}:n(e.slice(t+1,o))}}},60:function(e){e.exports=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t=[];for(var r in e)!function e(r,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(r+"["+o+"]",n[o]);else if("[object Object]"===Object.prototype.toString.call(n))for(var o in n)e(r+"["+o+"]",n[o]);else t.push(encodeURIComponent(r)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}(r,e[r]);return t.join("&")}},127:function(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}e.exports=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var r=e.split("&"),n={},o={},i=0;i<r.length;i++){var l=r[i].split("="),a=t(l[0]),s=2===l.length?t(l[1]):"";"true"===s?s=!0:"false"===s&&(s=!1);var d=a.split(/\]\[?|\[/),c=o;a.indexOf("[")>-1&&d.pop();for(var u=0;u<d.length;u++){var p=d[u],h=d[u+1],A=""==h||!isNaN(parseInt(h,10));if(""===p){var a=d.slice(0,u).join();null==n[a]&&(n[a]=Array.isArray(c)?c.length:0),p=n[a]++}else if("__proto__"===p)break;if(u===d.length-1)c[p]=s;else{var g=Object.getOwnPropertyDescriptor(c,p);null!=g&&(g=g.value),null==g&&(c[p]=g=A?[]:{}),c=g}}}return o}},932:function(e,t,r){e.exports=r(367)("undefined"!=typeof window?window:null)},9:function(e,t,r){e.exports=new Map([[r(372),!0]])},336:function(e){var t=new WeakMap;e.exports={delayedRemoval:t,domFor:function*(e){var r=e.dom,n=e.domSize,o=t.get(r);if(null!=r)do{var i=r.nextSibling;t.get(r)===o&&(yield r,n--),r=i}while(n)}}},372:function(e){e.exports={}},263:function(e,t,r){var n=r(329),o=r(470);e.exports=function(e,...t){var r=o(e,t);return null==r.attrs&&(r.attrs={}),r.tag="[",r.children=n.normalizeChildren(r.children),r}},970:function(e,t,r){var n=r(329),o=r(470),i=r(239),l=r(372),a=r(9),s=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,d=Object.create(null);e.exports=function(e,t,...r){if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");var c=o(t,r);return"string"==typeof e&&(c.children=n.normalizeChildren(c.children),"["!==e)?function(e,t){t.tag=e.tag;var r=t.attrs;if(null==r)return t.attrs=e.attrs,t.is=e.is,t;var n=i.call(r,"class"),o=n?r.class:r.className;return e.attrs!==l?(r=Object.assign({},e.attrs,r),(null!=o||null!=e.attrs.className)&&(r.className=null!=o?null!=e.attrs.className?String(e.attrs.className)+" "+String(o):o:e.attrs.className)):null!=o&&(r.className=o),n&&(r.class=null),"input"===e.tag&&i.call(r,"type")&&(r=Object.assign({type:r.type},r)),t.is=r.is,t.attrs=r,t}(d[e]||function(e){for(var t,r="div",n=[],o={},c=!0;t=s.exec(e);){var u=t[1],p=t[2];if(""===u&&""!==p)r=p;else if("#"===u)o.id=p;else if("."===u)n.push(p);else if("["===t[3][0]){var h,A=t[6];(A&&(A=A.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4])?n.push(A):(o[t[4]]=""===A?A:A||!0,("value"===(h=t[4])||"checked"===h||"selectedIndex"===h||"selected"===h)&&(c=!1))}}return n.length>0&&(o.className=n.join(" ")),!function(e){for(var t in e)if(i.call(e,t))return!1;return!0}(o)?a.set(o,c):o=l,d[e]={tag:r,attrs:o,is:o.is}}(e),c):(null==c.attrs&&(c.attrs={}),c.tag=e,c)}},470:function(e,t,r){var n=r(329);e.exports=function(e,t){return null!=e&&("object"!=typeof e||null!=e.tag||Array.isArray(e))?(t=0===t.length&&Array.isArray(e)?e:[e,...t],e=void 0):1===t.length&&Array.isArray(t[0])&&(t=t[0]),n("",e&&e.key,e,t)}},367:function(e,t,r){var n=r(329),o=r(336),i=o.delayedRemoval,l=o.domFor,a=r(9);e.exports=function(){var e,t,r,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function s(e){return e.ownerDocument}function d(e){return e.attrs&&e.attrs.xmlns||o[e.tag]}function c(e,t){if(e.state!==t)throw Error("'vnode.state' must not be modified.")}function u(e){var t=e.state;try{return this.apply(t,arguments)}finally{c(e,t)}}function p(e){try{return s(e).activeElement}catch(e){return null}}function h(e,t,r,n,o,i,l){for(var a=r;a<n;a++){var s=t[a];null!=s&&A(e,s,o,l,i)}}function A(e,t,r,o,i){var l,a,c,p,g,m,b,C,x=t.tag;if("string"==typeof x)switch(t.state={},null!=t.attrs&&q(t.attrs,t,r),x){case"#":l=e,a=t,c=i,a.dom=s(l).createTextNode(a.children),w(l,a.dom,c);break;case"<":f(e,t,o,i);break;case"[":var y=e,v=t,B=r,T=o,$=i,E=s(y).createDocumentFragment();if(null!=v.children){var R=v.children;h(E,R,0,R.length,B,null,T)}v.dom=E.firstChild,v.domSize=E.childNodes.length,w(y,E,$);break;default:!function(e,t,r,n,o){var i=t.tag,l=t.attrs,a=t.is,c=(n=d(t)||n)?a?s(e).createElementNS(n,i,{is:a}):s(e).createElementNS(n,i):a?s(e).createElement(i,{is:a}):s(e).createElement(i);if(t.dom=c,null!=l&&function(e,t,r){for(var n in t)S(e,n,null,t[n],r)}(t,l,n),w(e,c,o),!k(t)&&null!=t.children){var u=t.children;h(c,u,0,u.length,r,null,n),"select"===t.tag&&null!=l&&function(e,t){if("value"in t)if(null===t.value)-1!==e.dom.selectedIndex&&(e.dom.value=null);else{var r=""+t.value;(e.dom.value!==r||-1===e.dom.selectedIndex)&&(e.dom.value=r)}"selectedIndex"in t&&S(e,"selectedIndex",null,t.selectedIndex,void 0)}(t,l)}}(e,t,r,o,i)}else{p=e,g=t,m=r,b=o,C=i,!function(e,t){var r;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(r=e.state.view).$$reentrantLock$$)return;r.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(r=e.tag).$$reentrantLock$$)return;r.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}if(q(e.state,e,t),null!=e.attrs&&q(e.attrs,e,t),e.instance=n.normalize(u.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null}(g,m),null!=g.instance?(A(p,g.instance,m,b,C),g.dom=g.instance.dom,g.domSize=null!=g.dom?g.instance.domSize:0):g.domSize=0}}var g={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function f(e,t,r,n){var o,i=t.children.match(/^\s*?<(\w+)/im)||[],l=s(e).createElement(g[i[1]]||"div");"http://www.w3.org/2000/svg"===r?(l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",l=l.firstChild):l.innerHTML=t.children,t.dom=l.firstChild,t.domSize=l.childNodes.length;for(var a=s(e).createDocumentFragment();o=l.firstChild;)a.appendChild(o);w(e,a,n)}function m(e,t,r,n,o,i){if(t!==r&&(null!=t||null!=r))if(null==t||0===t.length)h(e,r,0,r.length,n,o,i);else if(null==r||0===r.length)v(e,t,0,t.length);else{var l=null!=t[0]&&null!=t[0].key,a=null!=r[0]&&null!=r[0].key,s=0,d=0;if(!l)for(;d<t.length&&null==t[d];)d++;if(!a)for(;s<r.length&&null==r[s];)s++;if(l!==a)v(e,t,d,t.length),h(e,r,s,r.length,n,o,i);else if(a){for(var c,u,p,g,f,m,w=t.length-1,k=r.length-1;w>=d&&k>=s&&(g=t[w],f=r[k],g.key===f.key);)g!==f&&b(e,g,f,n,o,i),null!=f.dom&&(o=f.dom),w--,k--;for(;w>=d&&k>=s&&(u=t[d],p=r[s],u.key===p.key);)d++,s++,u!==p&&b(e,u,p,n,x(t,d,o),i);for(;w>=d&&k>=s&&s!==k&&u.key===f.key&&g.key===p.key;)y(e,g,m=x(t,d,o)),g!==p&&b(e,g,p,n,m,i),++s<=--k&&y(e,u,o),u!==f&&b(e,u,f,n,o,i),null!=f.dom&&(o=f.dom),d++,g=t[--w],f=r[k],u=t[d],p=r[s];for(;w>=d&&k>=s&&g.key===f.key;)g!==f&&b(e,g,f,n,o,i),null!=f.dom&&(o=f.dom),w--,k--,g=t[w],f=r[k];if(s>k)v(e,t,d,w+1);else if(d>w)h(e,r,s,k+1,n,o,i);else{var c,B,T=o,E=k-s+1,S=Array(E),R=0,L=0,z=0x7fffffff,M=0;for(L=0;L<E;L++)S[L]=-1;for(L=k;L>=s;L--){null==c&&(c=function(e,t,r){for(var n=Object.create(null);t<r;t++){var o=e[t];if(null!=o){var i=o.key;null!=i&&(n[i]=t)}}return n}(t,d,w+1));var I=c[(f=r[L]).key];null!=I&&(z=I<z?I:-1,S[L-s]=I,g=t[I],t[I]=null,g!==f&&b(e,g,f,n,o,i),null!=f.dom&&(o=f.dom),M++)}if(o=T,M!==w-d+1&&v(e,t,d,w+1),0===M)h(e,r,s,k+1,n,o,i);else if(-1===z)for(R=(B=function(e){for(var t=[0],r=0,n=0,o=0,i=C.length=e.length,o=0;o<i;o++)C[o]=e[o];for(var o=0;o<i;++o)if(-1!==e[o]){var l=t[t.length-1];if(e[l]<e[o]){C[o]=l,t.push(o);continue}for(r=0,n=t.length-1;r<n;){var a=(r>>>1)+(n>>>1)+(r&n&1);e[t[a]]<e[o]?r=a+1:n=a}e[o]<e[t[r]]&&(r>0&&(C[o]=t[r-1]),t[r]=o)}for(r=t.length,n=t[r-1];r-- >0;)t[r]=n,n=C[n];return C.length=0,t}(S)).length-1,L=k;L>=s;L--)p=r[L],-1===S[L-s]?A(e,p,n,i,o):B[R]===L-s?R--:y(e,p,o),null!=p.dom&&(o=r[L].dom);else for(L=k;L>=s;L--)p=r[L],-1===S[L-s]&&A(e,p,n,i,o),null!=p.dom&&(o=r[L].dom)}}else{var q=t.length<r.length?t.length:r.length;for(s=s<d?s:d;s<q;s++)(u=t[s])!==(p=r[s])&&(null!=u||null!=p)&&(null==u?A(e,p,n,i,x(t,s+1,o)):null==p?$(e,u):b(e,u,p,n,x(t,s+1,o),i));t.length>q&&v(e,t,s,t.length),r.length>q&&h(e,r,s,r.length,n,o,i)}}}function b(e,t,r,o,i,l){var s=t.tag;if(s===r.tag&&t.is===r.is){if(r.state=t.state,r.events=t.events,function(e,t){do{if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate){var r=u.call(e.attrs.onbeforeupdate,e,t);if(void 0!==r&&!r)break}if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate){var r=u.call(e.state.onbeforeupdate,e,t);if(void 0!==r&&!r)break}return!1}while(!1);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,e.attrs=t.attrs,e.children=t.children,e.text=t.text,!0}(r,t))return;if("string"==typeof s)switch(null!=r.attrs&&N(r.attrs,r,o),s){case"#":c=t,h=r,c.children.toString()!==h.children.toString()&&(c.dom.nodeValue=h.children),h.dom=c.dom;break;case"<":g=e,C=t,x=r,y=l,w=i,C.children!==x.children?(E(g,C),f(g,x,y,w)):(x.dom=C.dom,x.domSize=C.domSize);break;case"[":var c,h,g,C,x,y,w,v,B,T,M,q,H=e,O=t,_=r,P=o,j=i,D=l;m(H,O.children,_.children,P,j,D);var U=0,Y=_.children;if(_.dom=null,null!=Y){for(var W=0;W<Y.length;W++){var F=Y[W];null!=F&&null!=F.dom&&(null==_.dom&&(_.dom=F.dom),U+=F.domSize||1)}1!==U&&(_.domSize=U)}break;default:v=t,B=r,T=o,M=l,q=B.dom=v.dom,M=d(B)||M,v.attrs==B.attrs&&(null==B.attrs||a.get(B.attrs))||function(e,t,r,n){var o;if(null!=t)for(var i in t!==r||a.has(r)||console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),t)null!=(o=t[i])&&(null==r||null==r[i])&&function(e,t,r,n){if(!("key"===t||null==r||R(t)))if("o"===t[0]&&"n"===t[1])I(e,t,void 0);else if("style"===t)z(e.dom,r,null);else if(L(e,t,n)&&"className"!==t&&"title"!==t&&("value"!==t||"option"!==e.tag&&("select"!==e.tag||-1!==e.dom.selectedIndex||e.dom!==p(e.dom)))&&("input"!==e.tag||"type"!==t))e.dom[t]=null;else{var o=t.indexOf(":");-1!==o&&(t=t.slice(o+1)),!1!==r&&e.dom.removeAttribute("className"===t?"class":t)}}(e,i,o,n);if(null!=r)for(var i in r)S(e,i,t&&t[i],r[i],n)}(B,v.attrs,B.attrs,M),k(B)||m(q,v.children,B.children,T,null,M)}else{var V=e,Z=t,K=r,Q=o,G=i,X=l;if(K.instance=n.normalize(u.call(K.state.view,K)),K.instance===K)throw Error("A view cannot return the vnode it received as argument");N(K.state,K,Q),null!=K.attrs&&N(K.attrs,K,Q),null!=K.instance?(null==Z.instance?A(V,K.instance,Q,X,G):b(V,Z.instance,K.instance,Q,G,X),K.dom=K.instance.dom,K.domSize=K.instance.domSize):null!=Z.instance?($(V,Z.instance),K.dom=void 0,K.domSize=0):(K.dom=Z.dom,K.domSize=Z.domSize)}}else $(e,t),A(e,r,o,l,i)}var C=[];function x(e,t,r){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return r}function y(e,t,r){if(null!=t.dom){var n;if(null==t.domSize)n=t.dom;else for(var o of(n=s(e).createDocumentFragment(),l(t)))n.appendChild(o);w(e,n,r)}}function w(e,t,r){null!=r?e.insertBefore(t,r):e.appendChild(t)}function k(e){if(null==e.attrs||null==e.attrs.contenteditable&&null==e.attrs.contentEditable)return!1;var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var r=t[0].children;e.dom.innerHTML!==r&&(e.dom.innerHTML=r)}else if(null!=t&&0!==t.length)throw Error("Child node of a contenteditable must be trusted.");return!0}function v(e,t,r,n){for(var o=r;o<n;o++){var i=t[o];null!=i&&$(e,i)}}function B(e,r,n,o){var a=r.state,s=u.call(n.onbeforeremove,r);if(null!=s){var d=t;for(var p of l(r))i.set(p,d);o.v++,Promise.resolve(s).finally(function(){c(r,a),T(e,r,o)})}}function T(e,t,r){0==--r.v&&(function e(t){if("string"!=typeof t.tag&&"function"==typeof t.state.onremove&&u.call(t.state.onremove,t),t.attrs&&"function"==typeof t.attrs.onremove&&u.call(t.attrs.onremove,t),"string"!=typeof t.tag)null!=t.instance&&e(t.instance);else{null!=t.events&&(t.events._=null);var r=t.children;if(Array.isArray(r))for(var n=0;n<r.length;n++){var o=r[n];null!=o&&e(o)}}}(t),E(e,t))}function $(e,t){var r={v:1};"string"!=typeof t.tag&&"function"==typeof t.state.onbeforeremove&&B(e,t,t.state,r),t.attrs&&"function"==typeof t.attrs.onbeforeremove&&B(e,t,t.attrs,r),T(e,t,r)}function E(e,t){if(null!=t.dom)if(null==t.domSize)e.removeChild(t.dom);else for(var r of l(t))e.removeChild(r)}function S(e,t,r,n,o){var i,l;if(!("key"===t||null==n||R(t))&&(r!==n||(i=e,"value"===(l=t)||"checked"===l||"selectedIndex"===l||"selected"===l&&(i.dom===p(i.dom)||"option"===i.tag&&i.dom.parentNode===p(i.dom)))||"object"==typeof n)){if("o"===t[0]&&"n"===t[1])return I(e,t,n);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),n);else if("style"===t)z(e.dom,r,n);else if(L(e,t,o)){if("value"===t){if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+n||"select"===e.tag&&null!==r&&e.dom.value===""+n||"option"===e.tag&&null!==r&&e.dom.value===""+n)return;if("input"===e.tag&&"file"===e.attrs.type&&""+n!="")return void console.error("`value` is read-only on file inputs!")}"input"===e.tag&&"type"===t?e.dom.setAttribute(t,n):e.dom[t]=n}else"boolean"==typeof n?n?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,n)}}function R(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function L(e,t,r){return void 0===r&&(e.tag.indexOf("-")>-1||e.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}function z(e,t,r){if(t===r);else if(null==r)e.style="";else if("object"!=typeof r)e.style=r;else if(null==t||"object"!=typeof t)for(var n in e.style="",r){var o=r[n];null!=o&&(n.includes("-")?e.style.setProperty(n,String(o)):e.style[n]=String(o))}else{for(var n in t)null!=t[n]&&null==r[n]&&(n.includes("-")?e.style.removeProperty(n):e.style[n]="");for(var n in r){var o=r[n];null!=o&&(o=String(o))!==String(t[n])&&(n.includes("-")?e.style.setProperty(n,o):e.style[n]=o)}}}function M(){this._=e}function I(t,r,n){null!=t.events?(t.events._=e,t.events[r]!==n&&(null!=n&&("function"==typeof n||"object"==typeof n)?(null==t.events[r]&&t.dom.addEventListener(r.slice(2),t.events,!1),t.events[r]=n):(null!=t.events[r]&&t.dom.removeEventListener(r.slice(2),t.events,!1),t.events[r]=void 0))):null!=n&&("function"==typeof n||"object"==typeof n)&&(t.events=new M,t.dom.addEventListener(r.slice(2),t.events,!1),t.events[r]=n)}function q(e,t,r){"function"==typeof e.oninit&&u.call(e.oninit,t),"function"==typeof e.oncreate&&r.push(u.bind(e.oncreate,t))}function N(e,t,r){"function"==typeof e.onupdate&&r.push(u.bind(e.onupdate,t))}return M.prototype=Object.create(null),M.prototype.handleEvent=function(e){var t,r=this["on"+e.type];"function"==typeof r?t=r.call(e.currentTarget,e):"function"==typeof r.handleEvent&&r.handleEvent(e);var n=this;null!=n._&&(!1!==e.redraw&&(0,n._)(),null!=t&&"function"==typeof t.then&&Promise.resolve(t).then(function(){null!=n._&&!1!==e.redraw&&(0,n._)()})),!1===t&&(e.preventDefault(),e.stopPropagation())},function(o,i,l){if(!o)throw TypeError("DOM element being rendered to does not exist.");if(null!=r&&o.contains(r))throw TypeError("Node is currently being rendered to and thus is locked.");var a=e,s=r,d=[],c=p(o),u=o.namespaceURI;r=o,e="function"==typeof l?l:void 0,t={};try{null==o.vnodes&&(o.textContent=""),i=n.normalizeChildren(Array.isArray(i)?i:[i]),m(o,o.vnodes,i,d,null,"http://www.w3.org/1999/xhtml"===u?void 0:u),o.vnodes=i,null!=c&&p(o)!==c&&"function"==typeof c.focus&&c.focus();for(var h=0;h<d.length;h++)d[h]()}finally{e=a,r=s}}}},653:function(e,t,r){var n=r(329);e.exports=function(e){return null==e&&(e=""),n("<",void 0,void 0,e,void 0,void 0)}},329:function(e){function t(e,t,r,n,o,i){return{tag:e,key:t,attrs:r,children:n,text:o,dom:i,is:void 0,domSize:void 0,state:void 0,events:void 0,instance:void 0}}t.normalize=function(e){return Array.isArray(e)?t("[",void 0,void 0,t.normalizeChildren(e),void 0,void 0):null==e||"boolean"==typeof e?null:"object"==typeof e?e:t("#",void 0,void 0,String(e),void 0,void 0)},t.normalizeChildren=function(e){var r=[];if(e.length){for(var n=null!=e[0]&&null!=e[0].key,o=1;o<e.length;o++)if((null!=e[o]&&null!=e[o].key)!==n)throw TypeError(n&&(null==e[o]||"boolean"==typeof e[o])?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var o=0;o<e.length;o++)r[o]=t.normalize(e[o])}return r},e.exports=t},851:function(e,t,r){var n=r(323);e.exports=r(841)("undefined"!=typeof window?window:null,n.redraw)},841:function(e,t,r){var n=r(743),o=r(239);e.exports=function(e,t){function r(e){return new Promise(e)}function i(e,t){for(var r in e.headers)if(o.call(e.headers,r)&&r.toLowerCase()===t)return!0;return!1}return r.prototype=Promise.prototype,r.__proto__=Promise,{request:function(l,a){"string"!=typeof l?(a=l,l=l.url):null==a&&(a={});var s,d,c=(s=l,d=a,new Promise(function(t,r){s=n(s,d.params);var l,a=null!=d.method?d.method.toUpperCase():"GET",c=d.body,u=(null==d.serialize||d.serialize===JSON.serialize)&&!(c instanceof e.FormData||c instanceof e.URLSearchParams),p=d.responseType||("function"==typeof d.extract?"":"json"),h=new e.XMLHttpRequest,A=!1,g=!1,f=h,m=h.abort;for(var b in h.abort=function(){A=!0,m.call(this)},h.open(a,s,!1!==d.async,"string"==typeof d.user?d.user:void 0,"string"==typeof d.password?d.password:void 0),u&&null!=c&&!i(d,"content-type")&&h.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof d.deserialize||i(d,"accept")||h.setRequestHeader("Accept","application/json, text/*"),d.withCredentials&&(h.withCredentials=d.withCredentials),d.timeout&&(h.timeout=d.timeout),h.responseType=p,d.headers)o.call(d.headers,b)&&h.setRequestHeader(b,d.headers[b]);h.onreadystatechange=function(e){if(!A&&4===e.target.readyState)try{var n,o=e.target.status>=200&&e.target.status<300||304===e.target.status||/^file:\/\//i.test(s),i=e.target.response;if("json"===p){if(!e.target.responseType&&"function"!=typeof d.extract)try{i=JSON.parse(e.target.responseText)}catch(e){i=null}}else p&&"text"!==p||null!=i||(i=e.target.responseText);if("function"==typeof d.extract?(i=d.extract(e.target,d),o=!0):"function"==typeof d.deserialize&&(i=d.deserialize(i)),o){if("function"==typeof d.type)if(Array.isArray(i))for(var l=0;l<i.length;l++)i[l]=new d.type(i[l]);else i=new d.type(i);t(i)}else{var a=function(){try{n=e.target.responseText}catch(e){n=i}var t=Error(n);t.code=e.target.status,t.response=i,r(t)};0===h.status?setTimeout(function(){g||a()}):a()}}catch(e){r(e)}},h.ontimeout=function(e){g=!0;var t=Error("Request timed out");t.code=e.target.status,r(t)},"function"==typeof d.config&&(h=d.config(h,d,s)||h)!==f&&(l=h.abort,h.abort=function(){A=!0,l.call(this)}),null==c?h.send():"function"==typeof d.serialize?h.send(d.serialize(c)):c instanceof e.FormData||c instanceof e.URLSearchParams?h.send(c):h.send(JSON.stringify(c))}));if(!0===a.background)return c;var u=0;function p(){0==--u&&"function"==typeof t&&t()}return function e(t){var n=t.then;return t.constructor=r,t.then=function(){u++;var r=n.apply(t,arguments);return r.then(p,function(e){if(p(),0===u)throw e}),e(r)},t}(c)}}}},487:function(e,t,r){var n=r(323);e.exports=r(872)("undefined"!=typeof window?window:null,n)},345:function(e,t,r){var n=r(239),o=RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");e.exports=function(e,t){var r={};if(null!=t)for(var i in e)n.call(e,i)&&!o.test(i)&&0>t.indexOf(i)&&(r[i]=e[i]);else for(var i in e)n.call(e,i)&&!o.test(i)&&(r[i]=e[i]);return r}},239:function(e){e.exports=({}).hasOwnProperty},450:function(e){var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var o={},i=[],l=0;l<e.length;l++){var a=e[l],s=n.base?a[0]+n.base:a[0],d=o[s]||0,c="".concat(s," ").concat(d);o[s]=d+1;var u=r(c),p={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var h=function(e,t){var r=t.domAPI(t);return r.update(e),function(t){t?(t.css!==e.css||t.media!==e.media||t.sourceMap!==e.sourceMap||t.supports!==e.supports||t.layer!==e.layer)&&r.update(e=t):r.remove()}}(p,n);n.byIndex=l,t.splice(l,0,{identifier:c,updater:h,references:1})}i.push(c)}return i}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var l=0;l<i.length;l++){var a=r(i[l]);t[a].references--}for(var s=n(e,o),d=0;d<i.length;d++){var c=r(i[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=s}}},265:function(e){var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},238:function(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},962:function(e,t,r){e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},683:function(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){var n,o,i;n="",r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {")),(o=void 0!==r.layer)&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}"),(i=r.sourceMap)&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)},remove:function(){var e;null===(e=t).parentNode||e.parentNode.removeChild(e)}}}},971:function(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0,r.rv=()=>"1.5.6",r.ruid="bundler=rspack@1.5.6",(()=>{var e=r(114),t=r.n(e);let n=[{name:"paragraph",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 6V2H8c-1 0-2 1-2 2v8c0 1 1 2 2 2h4V8h8m-8 8v6"/></svg>',title:"Paragraph",action:"paragraph",shortcut:"Ctrl+0"},{name:"heading-1",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 4V20 M18 4V20 M6 12H18"/><text x="20" y="8" font-size="4" fill="currentColor">1</text></svg>',title:"Heading 1",action:"heading-1",shortcut:"Ctrl+1"},{name:"heading-2",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 4V20 M18 4V20 M6 12H18"/><text x="20" y="8" font-size="4" fill="currentColor">2</text></svg>',title:"Heading 2",action:"heading-2",shortcut:"Ctrl+2"},{name:"heading-3",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 4V20 M18 4V20 M6 12H18"/><text x="20" y="8" font-size="4" fill="currentColor">3</text></svg>',title:"Heading 3",action:"heading-3",shortcut:"Ctrl+3"},{name:"heading-4",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 4V20 M18 4V20 M6 12H18"/><text x="20" y="8" font-size="4" fill="currentColor">4</text></svg>',title:"Heading 4",action:"heading-4",shortcut:"Ctrl+4"},{name:"heading-5",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 4V20 M18 4V20 M6 12H18"/><text x="20" y="8" font-size="4" fill="currentColor">5</text></svg>',title:"Heading 5",action:"heading-5",shortcut:"Ctrl+5"},{name:"heading-6",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 4V20 M18 4V20 M6 12H18"/><text x="20" y="8" font-size="4" fill="currentColor">6</text></svg>',title:"Heading 6",action:"heading-6",shortcut:"Ctrl+6"}],o=[[{name:"heading-dropdown",icon:'<svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5" fill="none"><path d="M6 4V20 M18 4V20 M6 12H18"/></svg><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6,9 12,15 18,9"/></svg>',title:"Heading",action:"toggleHeading",dropdown:n,shortcut:"Ctrl+H"}],[{name:"bold",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"/><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"/></svg>',title:"Bold",action:"bold",shortcut:"Ctrl+B",toggle:!0},{name:"italic",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="4" x2="10" y2="4"/><line x1="14" y1="20" x2="5" y2="20"/><line x1="15" y1="4" x2="9" y2="20"/></svg>',title:"Italic",action:"italic",shortcut:"Ctrl+I",toggle:!0},{name:"strikethrough",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 4H9a3 3 0 0 0-2.83 4"/><path d="M14 12a4 4 0 0 1 0 8H6"/><line x1="4" y1="12" x2="20" y2="12"/></svg>',title:"Strikethrough",action:"strikethrough",shortcut:"Ctrl+U",toggle:!0}],[{name:"link",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>',title:"Insert Link",action:"link",shortcut:"Ctrl+K",modal:!0},{name:"inline-code",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M10.75 4.75L9 19.25"/><path d="M15.25 4.75L13.5 19.25"/><path d="M19.25 7.5L22 10.5L19.25 13.5"/><path d="M4.75 7.5L2 10.5L4.75 13.5"/></svg>',title:"Inline Code",action:"inlineCode",shortcut:"Ctrl+`",toggle:!0},{name:"code-block",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16,18 22,12 16,6"/><polyline points="8,6 2,12 8,18"/></svg>',title:"Code Block",action:"codeBlock",shortcut:"Ctrl+Shift+`"}],[{name:"unordered-list",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><circle cx="4" cy="6" r="1" fill="currentColor"/><circle cx="4" cy="12" r="1" fill="currentColor"/><circle cx="4" cy="18" r="1" fill="currentColor"/></svg>',title:"Bullet List",action:"unorderedList",shortcut:"Ctrl+L",toggle:!0},{name:"ordered-list",icon:'<svg viewBox="0 0 24 24" fill="none"><g stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="10" y1="6" x2="22" y2="6"/><line x1="10" y1="12" x2="22" y2="12"/><line x1="10" y1="18" x2="22" y2="18"/></g><g fill="currentColor" font-family="sans-serif" font-size="6" text-anchor="middle" dominant-baseline="middle"><text x="5" y="6.5">1</text><text x="5" y="12.5">2</text><text x="5" y="18.5">3</text></g></svg>',title:"Numbered List",action:"orderedList",shortcut:"Ctrl+Shift+L",toggle:!0},{name:"checklist",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9,11 12,14 22,4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>',title:"Task List",action:"taskList",shortcut:"Ctrl+Shift+T",toggle:!0},{name:"outdent",icon:'<svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><polyline points="7 8 3 12 7 16"></polyline><line x1="21" y1="12" x2="3" y2="12"></line><line x1="21" y1="5" x2="9" y2="5"></line><line x1="21" y1="19" x2="9" y2="19"></line></svg>',title:"Decrease Indent",action:"outdent",shortcut:"Shift+Tab"},{name:"indent",icon:'<svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><polyline points="17 8 21 12 17 16"></polyline><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="5" x2="15" y2="5"></line><line x1="3" y1="19" x2="15" y2="19"></line></svg>',title:"Increase Indent",action:"indent",shortcut:"Tab"}],[{name:"blockquote",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1zM15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"/></svg>',title:"Quote",action:"blockquote",shortcut:"Ctrl+Q",toggle:!0},{name:"horizontal-rule",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="4" y1="12" x2="20" y2="12"/></svg>',title:"Horizontal Rule",action:"horizontalRule",shortcut:"Ctrl+R"}],[{name:"image",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>',title:"Insert Image",action:"image",shortcut:"Ctrl+G",modal:!0},{name:"table",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="9" y1="3" x2="9" y2="21"/><line x1="15" y1="3" x2="15" y2="21"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="3" y1="15" x2="21" y2="15"/></svg>',title:"Insert Table",action:"table",shortcut:"Ctrl+T",modal:!0}],[{name:"undo",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/></svg>',title:"Undo",action:"undo",shortcut:"Ctrl+Z"},{name:"redo",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>',title:"Redo",action:"redo",shortcut:"Ctrl+Y"},{name:"clear-format",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"/><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"/><line x1="2" y1="2" x2="22" y2="22"/></svg>',title:"Clear Formatting",action:"removeFormat"}]],i=e=>({start:e.selectionStart,end:e.selectionEnd,text:e.value.substring(e.selectionStart,e.selectionEnd)}),l=(e,t,r=0,n=0)=>{let{start:o,end:l}=i(e),a=e.value,s=a.slice(0,o)+t+a.slice(l);return e.value=s,e.setSelectionRange(o+r,o+t.length+n),e.focus(),s},a=(e,t,r,n)=>{let o=i(e);return l(e,t+(o.text||n||"")+r,o.text?0:t.length,o.text?0:-r.length)},s=(e,t)=>{let r=i(e);if(r.text)return r.text.split("\n").every(e=>e.startsWith(t));let{value:n,selectionStart:o}=e,l=n.lastIndexOf("\n",o-1)+1,a=n.indexOf("\n",o);return n.slice(l,-1===a?void 0:a).startsWith(t)},d=e=>{let{value:t,selectionStart:r}=e,n=t.lastIndexOf("\n",r-1)+1,o=t.indexOf("\n",r),i=-1===o?t.length:o;return{line:t.slice(n,i),start:n,end:i}},c=(e,t)=>{let{start:r,end:n}=d(e),o=e.value,i=o.slice(0,r)+t+o.slice(n);return e.value=i,e.setSelectionRange(r+t.length,r+t.length),e.focus(),i},u=e=>t=>{let{line:r}=d(t),n=/^-\s/.test(r),o=/^\d+\.\s/.test(r);if("unordered"===e)if(n)return c(t,r.slice(2));else if(o)return c(t,r.replace(/^\d+\.\s/,"- "));else return c(t,r?`- ${r}`:"- List item");return o?c(t,r.replace(/^\d+\.\s/,"")):n?c(t,r.replace(/^-\s/,"1. ")):c(t,r?`1. ${r}`:"1. List item")},p=(e,t,r)=>{i(e);let{value:n,selectionStart:o,selectionEnd:l}=e,a=n.slice(Math.max(0,o-t.length),o),s=n.slice(l,l+r.length);return a===t&&s===r},h=(e,t,r)=>{e.focus();let n=document.getSelection();return n&&n.rangeCount>0&&n.getRangeAt(0),document.execCommand(t,!1,r),e.innerHTML},A=()=>{let e=document.getSelection();if(!e||0===e.rangeCount)return null;let t=e.getRangeAt(0).commonAncestorContainer;for(;t&&t!==document.body;){if(t.nodeType===Node.ELEMENT_NODE){let e=t;if("TABLE"===e.tagName)return e;if("TD"===e.tagName||"TH"===e.tagName)return e.closest("table")}t=t.parentNode}return null},g=()=>{let e=document.getSelection();if(!e||0===e.rangeCount)return null;let t=e.getRangeAt(0).commonAncestorContainer;for(;t&&t!==document.body;){if(t.nodeType===Node.ELEMENT_NODE){let e=t;if("TD"===e.tagName||"TH"===e.tagName)return e}t=t.parentNode}return null},f=e=>{let t=e.closest("tr");return{row:Array.from(e.closest("table").rows).indexOf(t),col:Array.from(t.cells).indexOf(e)}},m=[{key:"b",ctrl:!0,action:"bold",description:"Bold text"},{key:"i",ctrl:!0,action:"italic",description:"Italic text"},{key:"u",ctrl:!0,action:"strikethrough",description:"Strikethrough text"},{key:"`",ctrl:!0,action:"inlineCode",description:"Inline code"},{key:"1",ctrl:!0,action:"heading-1",description:"Heading 1"},{key:"2",ctrl:!0,action:"heading-2",description:"Heading 2"},{key:"3",ctrl:!0,action:"heading-3",description:"Heading 3"},{key:"4",ctrl:!0,action:"heading-4",description:"Heading 4"},{key:"5",ctrl:!0,action:"heading-5",description:"Heading 5"},{key:"6",ctrl:!0,action:"heading-6",description:"Heading 6"},{key:"0",ctrl:!0,action:"paragraph",description:"Paragraph"},{key:"l",ctrl:!0,action:"unorderedList",description:"Unordered list"},{key:"l",ctrl:!0,shift:!0,action:"orderedList",description:"Ordered list"},{key:"Tab",action:"indent",description:"Indent"},{key:"Tab",shift:!0,action:"outdent",description:"Outdent"},{key:"]",ctrl:!0,action:"indent",description:"Indent"},{key:"[",ctrl:!0,action:"outdent",description:"Outdent"},{key:"q",ctrl:!0,action:"blockquote",description:"Blockquote"},{key:"k",ctrl:!0,action:"link",description:"Insert link"},{key:"g",ctrl:!0,action:"image",description:"Insert image"},{key:"t",ctrl:!0,action:"table",description:"Insert table"},{key:"r",ctrl:!0,action:"horizontalRule",description:"Horizontal rule"},{key:"`",ctrl:!0,shift:!0,action:"codeBlock",description:"Code block"},{key:"z",ctrl:!0,action:"undo",description:"Undo"},{key:"z",ctrl:!0,shift:!0,action:"redo",description:"Redo"},{key:"y",ctrl:!0,action:"redo",description:"Redo"},{key:"a",ctrl:!0,action:"selectAll",description:"Select all"},{key:"m",ctrl:!0,action:"toggleMode",description:"Toggle mode"},{key:"p",ctrl:!0,action:"togglePreview",description:"Toggle preview"}],b=m.map(e=>({...e,ctrl:!1,meta:e.ctrl}));class C{constructor(e){this.mode="wysiwyg",this.textarea=null,this.contentEditable=null,this.onContentChange=e}setOnContentChange(e){this.onContentChange=e}setTextarea(e){this.textarea=e,this.setupKeyboardHandlers(e)}getTextarea(){return this.textarea}setContentEditable(e){this.contentEditable=e,this.setupKeyboardHandlers(e)}setMode(e){this.mode=e}executeAndNotify(e){var t;try{let r=e();null==(t=this.onContentChange)||t.call(this,r)}catch(e){console.error("Editor action failed:",e)}}setupKeyboardHandlers(e){let t=t=>{var r,n;if(!((e,t,r=m)=>{let n=((e,t=m)=>t.find(t=>((e,t)=>{var r,n,o,i;if(e.key.toLowerCase()!==t.key.toLowerCase())return!1;let l=(null!=(r=t.ctrl)&&r)===e.ctrlKey,a=(null!=(n=t.alt)&&n)===e.altKey,s=(null!=(o=t.shift)&&o)===e.shiftKey,d=(null!=(i=t.meta)&&i)===e.metaKey;return l&&a&&s&&d})(e,t))||null)(e,r);return!!n&&(e.preventDefault(),e.stopPropagation(),t(n.action),!0)})(t,e=>this.executeAction(e),"undefined"!=typeof navigator&&/Mac|iPhone|iPad|iPod/.test(navigator.platform)?b:m)&&"markdown"===this.mode&&e instanceof HTMLTextAreaElement){if("Tab"===t.key){((e,t,r=!1)=>{if(t instanceof HTMLTextAreaElement){let{value:n,selectionStart:o}=t,i=n.lastIndexOf("\n",o-1)+1,l=n.indexOf("\n",o),a=n.slice(i,-1===l?void 0:l),s=/^\s*[-*+]\s/.test(a)||/^\s*\d+\.\s/.test(a),d=(n.slice(0,o).match(/```/g)||[]).length%2==1;if(s||d){if(e.preventDefault(),r){let e=a.match(/^(\s+)/);if(e){let r=e[1],s=(r.length>=2?r.slice(2):"")+a.slice(r.length);t.value=n.slice(0,i)+s+n.slice(-1===l?void 0:l),t.setSelectionRange(o-Math.min(2,r.length),o-Math.min(2,r.length))}}else{let e=a.replace(/^(\s*)/,"$1  ");t.value=n.slice(0,i)+e+n.slice(-1===l?void 0:l),t.setSelectionRange(o+2,o+2)}return!0}}return!1})(t,e,t.shiftKey)&&(null==(r=this.onContentChange)||r.call(this,e.value));return}if("Enter"===t.key){((e,t)=>{let{value:r,selectionStart:n}=t,o=r.lastIndexOf("\n",n-1)+1,i=r.indexOf("\n",n),l=r.slice(o,-1===i?void 0:i),a=l.match(/^(\s*)([-*+])\s(.*)$/),s=l.match(/^(\s*)(\d+)\.\s(.*)$/);if(a){let[,n,l,s]=a;if(""===s.trim())return e.preventDefault(),t.value=r.slice(0,o)+n+r.slice(-1===i?void 0:i),t.setSelectionRange(o+n.length,o+n.length),!0;{e.preventDefault();let o=`
${n}${l} `,a=-1===i?r.length:i;return t.value=r.slice(0,a)+o+r.slice(a),t.setSelectionRange(a+o.length,a+o.length),!0}}if(s){let[,n,l,a]=s;if(""===a.trim())return e.preventDefault(),t.value=r.slice(0,o)+n+r.slice(-1===i?void 0:i),t.setSelectionRange(o+n.length,o+n.length),!0;{e.preventDefault();let o=parseInt(l)+1,a=`
${n}${o}. `,s=-1===i?r.length:i;return t.value=r.slice(0,s)+a+r.slice(s),t.setSelectionRange(s+a.length,s+a.length),!0}}return!1})(t,e)&&(null==(n=this.onContentChange)||n.call(this,e.value));return}}};e.addEventListener("keydown",t)}executeAction(e){switch(e){case"bold":this.bold();break;case"italic":this.italic();break;case"strikethrough":this.strikethrough();break;case"inlineCode":this.inlineCode();break;case"codeBlock":this.codeBlock();break;case"heading":case"toggleHeading":this.toggleHeading();break;case"heading-1":this.heading(1);break;case"heading-2":this.heading(2);break;case"heading-3":this.heading(3);break;case"heading-4":this.heading(4);break;case"heading-5":this.heading(5);break;case"heading-6":this.heading(6);break;case"paragraph":this.paragraph();break;case"unorderedList":this.unorderedList();break;case"orderedList":this.orderedList();break;case"indent":this.indent();break;case"outdent":this.outdent();break;case"blockquote":this.blockquote();break;case"horizontalRule":this.horizontalRule();break;case"link":this.link();break;case"image":this.image();break;case"table":this.table();break;case"undo":this.undo();break;case"redo":this.redo();break;case"selectAll":this.selectAll();break;case"removeFormat":this.removeFormat();break;default:console.warn(`Unknown action: ${e}`)}}bold(){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>h(this.contentEditable,"bold")):this.textarea&&this.executeAndNotify(()=>a(this.textarea,"**","**","bold text"))}italic(){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>h(this.contentEditable,"italic")):this.textarea&&this.executeAndNotify(()=>a(this.textarea,"*","*","italic text"))}strikethrough(){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>h(this.contentEditable,"strikeThrough")):this.textarea&&this.executeAndNotify(()=>a(this.textarea,"~~","~~","strikethrough text"))}inlineCode(){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>{var e;let t,r;return e=this.contentEditable,r=(null==(t=document.getSelection())?void 0:t.toString())||"code",h(e,"insertHTML",`<code>${r}</code>`)}):this.textarea&&this.executeAndNotify(()=>a(this.textarea,"`","`","code"))}codeBlock(){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>{var e;let t,r;return e=this.contentEditable,r=(null==(t=document.getSelection())?void 0:t.toString())||"code block",h(e,"insertHTML",`<pre><code>${r}</code></pre>`)}):this.textarea&&this.executeAndNotify(()=>{var e;let t,r;return r=(t=i(e=this.textarea)).text||"code block",l(e,`\`\`\`
${r}
\`\`\``,4*!t.text,0)})}toggleHeading(){this.textarea&&this.executeAndNotify(()=>(e=>{let{line:t}=d(e),r=t.match(/^(#{1,6})\s/);if(!r)return c(e,t.trim()?`# ${t}`:"# Heading");{let n=r[1].length;return n<6?c(e,"#".repeat(n+1)+t.slice(n)):c(e,t.slice(7))}})(this.textarea))}heading(e){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>(t=>e<1||e>6?t.innerHTML:h(t,"formatBlock",`h${e}`))(this.contentEditable)):this.textarea&&this.executeAndNotify(()=>(t=>{if(e<1||e>6)return t.value;let{line:r}=d(t),n="#".repeat(e)+" ",o=r.replace(/^#{1,6}\s*/,"");return c(t,o?`${n}${o}`:`${n}Heading ${e}`)})(this.textarea))}paragraph(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>h(this.contentEditable,"formatBlock","p"))}unorderedList(){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>h(this.contentEditable,"insertUnorderedList")):this.textarea&&this.executeAndNotify(()=>u("unordered")(this.textarea))}orderedList(){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>h(this.contentEditable,"insertOrderedList")):this.textarea&&this.executeAndNotify(()=>u("ordered")(this.textarea))}indent(){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>h(this.contentEditable,"indent")):this.textarea&&this.executeAndNotify(()=>((e,t="  ")=>{var r;let n;return((n=i(e).text)||!r||(n=r),n)?l(e,n.split("\n").map(e=>t+e).join("\n"),0,0):l(e,t,t.length,0)})(this.textarea))}outdent(){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>h(this.contentEditable,"outdent")):this.textarea&&this.executeAndNotify(()=>((e,t="  ")=>{let r=i(e).text;if(!r){let{line:r}=d(e);return r.startsWith(t)?c(e,r.slice(t.length)):e.value}return l(e,r.split("\n").map(e=>e.startsWith(t)?e.slice(t.length):e).join("\n"),0,0)})(this.textarea))}blockquote(){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>h(this.contentEditable,"formatBlock","blockquote")):this.textarea&&this.executeAndNotify(()=>((e,t,r)=>{let n=i(e).text;if(!n&&r&&(n=r),!n)return l(e,t,t.length,0);let o=n.split("\n");return l(e,o.every(e=>e.startsWith(t))?o.map(e=>e.slice(t.length)).join("\n"):o.map(e=>t+e).join("\n"),0,0)})(this.textarea,"> ","Quote"))}horizontalRule(){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>h(this.contentEditable,"insertHTML","<hr>")):this.textarea&&this.executeAndNotify(()=>l(this.textarea,"\n---\n",0,0))}link(e,t){e&&t?"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>(r=>{let n=document.getSelection(),o=t||(null==n?void 0:n.toString())||"link text";return h(r,"insertHTML",`<a href="${e}">${o}</a>`)})(this.contentEditable)):this.textarea&&this.executeAndNotify(()=>{let r=`[${t}](${e})`;return l(this.textarea,r,0,0)}):this.textarea&&this.executeAndNotify(()=>{var e;let t;return t=i(e=this.textarea).text||"link text",l(e,`[${t}](url)`,t.length+2,-4)})}image(e,t,r){if(e){let n=t||"";"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>((e,t="",r)=>n=>{let o=r?` title="${r}"`:"";return h(n,"insertHTML",`<img src="${e}" alt="${t}"${o}>`)})(e,n,r)(this.contentEditable)):this.textarea&&this.executeAndNotify(()=>{let t=r?` "${r}"`:"",o=`![${n}](${e}${t})`;return l(this.textarea,o,0,0)})}else this.textarea&&this.executeAndNotify(()=>{var e;let t;return t=i(e=this.textarea).text||"alt text",l(e,`![${t}](image-url)`,t.length+3,-11)})}table(e=3,t=3){"wysiwyg"===this.mode&&this.contentEditable?this.executeAndNotify(()=>((e=3,t=3)=>r=>{let n=Array(t).fill(null).map((e,t)=>`<th>Header ${t+1}</th>`).join(""),o=`<tr>${n}</tr>`,i=Array(e-1).fill(null).map((e,r)=>{let n=Array(t).fill(null).map((e,t)=>`<td>Cell ${r+1}-${t+1}</td>`).join("");return`<tr>${n}</tr>`}).join("");return h(r,"insertHTML",`<table><thead>${o}</thead><tbody>${i}</tbody></table>`)})(e,t)(this.contentEditable)):this.textarea&&this.executeAndNotify(()=>((e=3,t=3)=>r=>{let n=Array(t).fill("Header").map((e,t)=>`${e} ${t+1}`),o=[`| ${n.join(" | ")} |`,`| ${Array(t).fill("-------").join(" | ")} |`,...Array(e-1).fill(null).map((e,r)=>{let n=Array(t).fill("Cell").map((e,t)=>`${e} ${r+1}-${t+1}`);return`| ${n.join(" | ")} |`})].join("\n");return l(r,`
${o}
`,0,0)})(e,t)(this.textarea))}undo(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>h(this.contentEditable,"undo"))}redo(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>h(this.contentEditable,"redo"))}selectAll(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>h(this.contentEditable,"selectAll"))}removeFormat(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>h(this.contentEditable,"removeFormat"))}getFormattingState(){return"wysiwyg"===this.mode&&this.contentEditable?(this.contentEditable,{bold:document.queryCommandState("bold"),italic:document.queryCommandState("italic"),strikethrough:document.queryCommandState("strikeThrough"),underline:document.queryCommandState("underline"),unorderedList:document.queryCommandState("insertUnorderedList"),orderedList:document.queryCommandState("insertOrderedList"),blockquote:(()=>{let e=document.getSelection();if(e&&e.rangeCount>0){let t=e.getRangeAt(0).commonAncestorContainer,r=t.nodeType===Node.TEXT_NODE?t.parentElement:t;return(null==r?void 0:r.closest("blockquote"))!==null}return!1})(),heading:(()=>{let e=document.getSelection();if(e&&e.rangeCount>0){let t=e.getRangeAt(0).commonAncestorContainer,r=t.nodeType===Node.TEXT_NODE?t.parentElement:t,n=null==r?void 0:r.closest("h1, h2, h3, h4, h5, h6");if(n)return{isHeading:!0,level:parseInt(n.tagName.charAt(1))}}return{isHeading:!1,level:0}})()}):this.textarea?(e=>{let t,{line:r}=d(e);return{bold:p(e,"**","**"),italic:p(e,"*","*"),strikethrough:p(e,"~~","~~"),inlineCode:p(e,"`","`"),heading:/^#{1,6}\s/.test(r),headingLevel:(t=r.match(/^(#{1,6})\s/))?t[1].length:0,unorderedList:s(e,"- "),orderedList:/^\d+\.\s/.test(r),blockquote:s(e,"> ")}})(this.textarea):{}}canUndo(){return"wysiwyg"===this.mode&&!!this.contentEditable&&(this.contentEditable.focus(),document.queryCommandEnabled("undo"))}canRedo(){return"wysiwyg"===this.mode&&!!this.contentEditable&&(this.contentEditable.focus(),document.queryCommandEnabled("redo"))}code(){this.inlineCode()}quote(){this.blockquote()}insertRowAbove(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>(e=>{let t=A(),r=g();if(!t||!r)return e.innerHTML;let{row:n}=f(r),o=t.rows[n].cells.length,i=t.insertRow(n);for(let e=0;e<o;e++)i.insertCell().innerHTML="&nbsp;";return e.innerHTML})(this.contentEditable))}insertRowBelow(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>(e=>{let t=A(),r=g();if(!t||!r)return e.innerHTML;let{row:n}=f(r),o=t.rows[n].cells.length,i=t.insertRow(n+1);for(let e=0;e<o;e++)i.insertCell().innerHTML="&nbsp;";return e.innerHTML})(this.contentEditable))}insertColumnLeft(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>(e=>{var t;let r=A(),n=g();if(!r||!n)return e.innerHTML;let{col:o}=f(n);for(let e=0;e<r.rows.length;e++){let n=r.rows[e],i=n.insertCell(o);if(0===e&&n.querySelector("th")){let e=document.createElement("th");e.innerHTML="&nbsp;",null==(t=i.parentNode)||t.replaceChild(e,i)}else i.innerHTML="&nbsp;"}return e.innerHTML})(this.contentEditable))}insertColumnRight(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>(e=>{var t;let r=A(),n=g();if(!r||!n)return e.innerHTML;let{col:o}=f(n);for(let e=0;e<r.rows.length;e++){let n=r.rows[e],i=n.insertCell(o+1);if(0===e&&n.querySelector("th")){let e=document.createElement("th");e.innerHTML="&nbsp;",null==(t=i.parentNode)||t.replaceChild(e,i)}else i.innerHTML="&nbsp;"}return e.innerHTML})(this.contentEditable))}deleteCurrentRow(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>(e=>{let t=A(),r=g();if(!t||!r)return e.innerHTML;let{row:n}=f(r);return t.rows.length<=1||t.deleteRow(n),e.innerHTML})(this.contentEditable))}deleteCurrentColumn(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>(e=>{let t=A(),r=g();if(!t||!r)return e.innerHTML;let{col:n}=f(r);if(t.rows.length>0&&t.rows[0].cells.length<=1)return e.innerHTML;for(let e=0;e<t.rows.length;e++){let r=t.rows[e];r.cells[n]&&r.deleteCell(n)}return e.innerHTML})(this.contentEditable))}deleteCurrentTable(){"wysiwyg"===this.mode&&this.contentEditable&&this.executeAndNotify(()=>{var e;let t;return e=this.contentEditable,(t=A())&&t.remove(),e.innerHTML})}}let x={view:({attrs:e,children:r})=>{let{isOpen:n,title:o,onClose:i,onConfirm:l,confirmText:a="OK",cancelText:s="Cancel",size:d="medium"}=e;return n?t()(".md-modal-overlay",{onclick:e=>{e.target===e.currentTarget&&i()},onkeydown:e=>{"Escape"===e.key?i():"Enter"===e.key&&l&&l()},tabindex:-1,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},[t()(`.md-modal.md-modal--${d}`,{onclick:e=>e.stopPropagation(),style:{backgroundColor:"var(--bg-color, white)",color:"var(--text-color, black)",borderRadius:"8px",padding:"20px",minWidth:"small"===d?"300px":"large"===d?"600px":"450px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",border:"1px solid var(--border-color, #e0e0e0)"}},[t()(".md-modal-header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border-color, #e0e0e0)"}},[t()("h3.md-modal-title",{style:{margin:0,fontSize:"18px",fontWeight:"600"}},o),t()("button.md-modal-close",{onclick:i,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",color:"var(--text-color, #666)"}},"\xd7")]),t()(".md-modal-content",{style:{marginBottom:l?"20px":"0"}},r),l&&t()(".md-modal-footer",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",paddingTop:"15px",borderTop:"1px solid var(--border-color, #e0e0e0)"}},[t()("button.md-modal-cancel",{onclick:i,style:{padding:"8px 16px",border:"1px solid var(--border-color, #ddd)",backgroundColor:"var(--button-bg, #f5f5f5)",color:"var(--text-color, #333)",borderRadius:"4px",cursor:"pointer"}},s),t()("button.md-modal-confirm",{onclick:l,style:{padding:"8px 16px",border:"none",backgroundColor:"var(--primary-color, #007bff)",color:"white",borderRadius:"4px",cursor:"pointer"}},a)])])]):null}},y=()=>{let e={src:"",alt:"",title:""};return{oninit:({attrs:t})=>{var r,n,o;e.src=(null==(r=t.initialValues)?void 0:r.src)||"",e.alt=(null==(n=t.initialValues)?void 0:n.alt)||"",e.title=(null==(o=t.initialValues)?void 0:o.title)||""},view:({attrs:r})=>{let{isOpen:n,onClose:o,onInsert:i}=r,l={width:"100%",padding:"8px 12px",border:"1px solid var(--border-color, #ddd)",borderRadius:"4px",fontSize:"14px",backgroundColor:"var(--input-bg, white)",color:"var(--text-color, black)"},a={display:"block",marginBottom:"5px",fontWeight:"500",fontSize:"14px"},s={marginBottom:"15px"};return t()(x,{isOpen:n,title:"Insert Image",onClose:o,onConfirm:()=>{e.src.trim()&&(i(e.src.trim(),e.alt.trim(),e.title.trim()||void 0),o(),e.src="",e.alt="",e.title="")},confirmText:"Insert",size:"medium"},[t()(".md-image-form",[t()(".md-field",{style:s},[t()("label",{style:a},"Image URL *"),t()("input[type=url]",{style:l,placeholder:"https://example.com/image.jpg",value:e.src,oninput:t=>{e.src=t.target.value},oncreate:({dom:e})=>{setTimeout(()=>e.focus(),100)}})]),t()(".md-field",{style:s},[t()("label",{style:a},"Alt Text"),t()("input[type=text]",{style:l,placeholder:"Describe the image",value:e.alt,oninput:t=>{e.alt=t.target.value}})]),t()(".md-field",{style:s},[t()("label",{style:a},"Title (optional)"),t()("input[type=text]",{style:l,placeholder:"Image title for tooltip",value:e.title,oninput:t=>{e.title=t.target.value}})]),e.src&&t()(".md-image-preview",{style:{marginTop:"15px",padding:"10px",border:"1px dashed var(--border-color, #ddd)",borderRadius:"4px",backgroundColor:"var(--preview-bg, #f9f9f9)"}},[t()("div",{style:{marginBottom:"8px",fontSize:"12px",color:"var(--text-muted, #666)"}},"Preview:"),t()("img",{src:e.src,alt:e.alt,title:e.title,style:{maxWidth:"100%",maxHeight:"200px",objectFit:"contain"},onerror:e=>{e.target.style.display="none"},onload:e=>{e.target.style.display="block"}})])])])}}},w=()=>{let e={url:"",text:"",title:""};return{oninit:({attrs:t})=>{var r,n,o;e.url=(null==(r=t.initialValues)?void 0:r.url)||"",e.text=(null==(n=t.initialValues)?void 0:n.text)||"",e.title=(null==(o=t.initialValues)?void 0:o.title)||""},view:({attrs:r})=>{let{isOpen:n,onClose:o,onInsert:i}=r,l={width:"100%",padding:"8px 12px",border:"1px solid var(--border-color, #ddd)",borderRadius:"4px",fontSize:"14px",backgroundColor:"var(--input-bg, white)",color:"var(--text-color, black)"},a={display:"block",marginBottom:"5px",fontWeight:"500",fontSize:"14px"},s={marginBottom:"15px"};return t()(x,{isOpen:n,title:"Insert Link",onClose:o,onConfirm:()=>{e.url.trim()&&e.text.trim()&&(i(e.url.trim(),e.text.trim(),e.title.trim()||void 0),o(),e.url="",e.text="",e.title="")},confirmText:"Insert",size:"medium"},[t()(".md-link-form",[t()(".md-field",{style:s},[t()("label",{style:a},"Link Text *"),t()("input[type=text]",{style:l,placeholder:"Text to display",value:e.text,oninput:t=>{e.text=t.target.value},oncreate:({dom:e})=>{setTimeout(()=>e.focus(),100)}})]),t()(".md-field",{style:s},[t()("label",{style:a},"URL *"),t()("input[type=url]",{style:l,placeholder:"https://example.com",value:e.url,oninput:t=>{e.url=t.target.value}})]),t()(".md-field",{style:s},[t()("label",{style:a},"Title (optional)"),t()("input[type=text]",{style:l,placeholder:"Link title for tooltip",value:e.title,oninput:t=>{e.title=t.target.value}})]),e.url&&e.text&&t()(".md-link-preview",{style:{marginTop:"15px",padding:"10px",border:"1px dashed var(--border-color, #ddd)",borderRadius:"4px",backgroundColor:"var(--preview-bg, #f9f9f9)"}},[t()("div",{style:{marginBottom:"8px",fontSize:"12px",color:"var(--text-muted, #666)"}},"Preview:"),t()("a",{href:e.url,title:e.title,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--link-color, #007bff)",textDecoration:"underline"},onclick:e=>e.preventDefault()},e.text)])])])}}},k={oninit:({state:e})=>{e.hoverRows=0,e.hoverCols=0},view:({state:e,attrs:r})=>{let{isOpen:n,onClose:o,onSelect:i,maxRows:l=8,maxCols:a=8}=r;return n?t()(".md-table-selector-overlay",{onclick:e=>{e.target===e.currentTarget&&o()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999,backgroundColor:"rgba(0, 0, 0, 0.1)"}},[t()(".md-table-selector",{style:{position:"absolute",backgroundColor:"var(--bg-color, white)",border:"1px solid var(--border-color, #ddd)",borderRadius:"6px",padding:"15px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,top:"50px",left:"50%",transform:"translateX(-50%)"},onclick:e=>e.stopPropagation()},[t()(".md-table-selector-header",{style:{marginBottom:"10px",fontSize:"14px",fontWeight:"500",color:"var(--text-color, #333)",textAlign:"center"}},[`${e.hoverRows} \xd7 ${e.hoverCols} Table`,0===e.hoverRows&&0===e.hoverCols&&"Select table size"]),t()(".md-table-grid",{style:{display:"grid",gridTemplateRows:`repeat(${l}, 20px)`,gridTemplateColumns:`repeat(${a}, 20px)`,gap:"2px",marginBottom:"10px"}},Array.from({length:l},(r,n)=>Array.from({length:a},(r,l)=>{let a,s;return t()(".md-table-cell",{style:(a=n+1,s=l+1,{width:"20px",height:"20px",border:"1px solid var(--border-color, #ddd)",backgroundColor:a<=e.hoverRows&&s<=e.hoverCols?"var(--primary-color, #007bff)":"var(--cell-bg, white)",cursor:"pointer",transition:"background-color 0.1s ease"}),onmouseover:()=>{var t,r;return t=n+1,r=l+1,void(e.hoverRows=t,e.hoverCols=r)},onclick:()=>{i(n+1,l+1),o()},key:`${n}-${l}`})})).flat()),t()(".md-table-selector-footer",{style:{borderTop:"1px solid var(--border-color, #e0e0e0)",paddingTop:"10px",fontSize:"12px",color:"var(--text-muted, #666)",textAlign:"center"}},[t()("div","Click to insert table"),t()("button",{style:{marginTop:"5px",padding:"4px 8px",fontSize:"11px",border:"1px solid var(--border-color, #ddd)",backgroundColor:"var(--button-bg, #f5f5f5)",color:"var(--text-color, #333)",borderRadius:"3px",cursor:"pointer"},onclick:()=>{let e=prompt("Number of rows:","3"),t=prompt("Number of columns:","3");if(e&&t){let r=parseInt(e),n=parseInt(t);r>0&&n>0&&r<=20&&n<=20&&(i(r,n),o())}}},"Custom size...")])])]):null}},v={view:({attrs:e})=>{if(!e.isVisible)return t()("");let r=[{label:"Insert Row Above",action:e.onInsertRowAbove,icon:'<svg viewBox="0 0 24 24" fill="none"><g fill="#4a90e2"><rect x="3" y="10" width="5" height="3" rx=".5"/><rect x="9" y="10" width="5" height="3" rx=".5"/><rect x="15" y="10" width="5" height="3" rx=".5"/></g><g fill="#999"><rect x="3" y="15" width="5" height="3" rx=".5"/><rect x="9" y="15" width="5" height="3" rx=".5"/><rect x="15" y="15" width="5" height="3" rx=".5"/></g><path stroke="#4a90e2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M12 8V4M10 5l2-2 2 2"/></svg>'},{label:"Insert Row Below",action:e.onInsertRowBelow,icon:'<svg viewBox="0 0 24 24" fill="none"><g fill="#999"><rect x="3" y="6" width="5" height="3" rx=".5"/><rect x="9" y="6" width="5" height="3" rx=".5"/><rect x="15" y="6" width="5" height="3" rx=".5"/></g><g fill="#4a90e2"><rect x="3" y="11" width="5" height="3" rx=".5"/><rect x="9" y="11" width="5" height="3" rx=".5"/><rect x="15" y="11" width="5" height="3" rx=".5"/></g><path stroke="#4a90e2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M12 16v4M10 19l2 2 2-2"/></svg>'},{type:"separator"},{label:"Insert Column Left",action:e.onInsertColumnLeft,icon:'<svg viewBox="0 0 24 24" fill="none"><g fill="#4a90e2"><rect x="9" y="6" width="3" height="4" rx=".5"/><rect x="9" y="11" width="3" height="4" rx=".5"/><rect x="9" y="16" width="3" height="4" rx=".5"/></g><g fill="#999"><rect x="14" y="6" width="3" height="4" rx=".5"/><rect x="14" y="11" width="3" height="4" rx=".5"/><rect x="14" y="16" width="3" height="4" rx=".5"/></g><path stroke="#4a90e2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M7 12H3M4 10l-2 2 2 2"/></svg>'},{label:"Insert Column Right",action:e.onInsertColumnRight,icon:'<svg viewBox="0 0 24 24" fill="none"><g fill="#999"><rect x="7" y="6" width="3" height="4" rx=".5"/><rect x="7" y="11" width="3" height="4" rx=".5"/><rect x="7" y="16" width="3" height="4" rx=".5"/></g><g fill="#4a90e2"><rect x="12" y="6" width="3" height="4" rx=".5"/><rect x="12" y="11" width="3" height="4" rx=".5"/><rect x="12" y="16" width="3" height="4" rx=".5"/></g><path stroke="#4a90e2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M17 12h4M20 10l2 2-2 2"/></svg>'},{type:"separator"},{label:"Delete Row",action:e.onDeleteRow,icon:"",danger:!0},{label:"Delete Column",action:e.onDeleteColumn,icon:"",danger:!0},{type:"separator"},{label:"Delete Table",action:e.onDeleteTable,icon:"\uD83D\uDDD1",danger:!0}];return t()(".table-context-menu",{style:{left:`${e.position.x}px`,top:`${e.position.y}px`}},[t()(".table-menu-backdrop",{onclick:e.onClose,oncontextmenu:t=>{t.preventDefault(),e.onClose()}},t()(".table-menu-content",r.map(r=>"separator"===r.type?t()(".table-menu-separator"):t()(".table-menu-item",{class:r.danger?"danger":"",onclick:t=>{console.log("Clicked .table-menu-item"),t.preventDefault(),t.stopPropagation(),r.action&&r.action(),e.onClose()},onkeydown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),r.action&&r.action(),e.onClose())},tabindex:0},[r.icon&&t()(".table-menu-icon",t().trust(r.icon)),t()(".table-menu-label",r.label)]))))])}},B={oninit:({state:e})=>{e.selectedIndex=-1},oncreate:({attrs:e,state:r,dom:n})=>{if(e.isVisible){let o=n=>{if(e.isVisible)switch(n.key){case"ArrowDown":n.preventDefault(),r.selectedIndex=Math.min(r.selectedIndex+1,e.options.length-1),t().redraw();break;case"ArrowUp":n.preventDefault(),r.selectedIndex=Math.max(r.selectedIndex-1,0),t().redraw();break;case"Enter":case" ":n.preventDefault(),r.selectedIndex>=0&&r.selectedIndex<e.options.length&&e.onSelect(e.options[r.selectedIndex]);break;case"Escape":n.preventDefault(),e.onClose()}};document.addEventListener("keydown",o),n._keydownHandler=o}},onremove:({dom:e})=>{let t=e._keydownHandler;t&&document.removeEventListener("keydown",t)},view:({attrs:e,state:r})=>{if(!e.isVisible||0===e.options.length)return t()("");let n=e.position;if(e.triggerElement){let t=e.triggerElement.getBoundingClientRect();n={x:t.left,y:t.bottom+4}}return t()(".dropdown-menu-container",{style:{position:"fixed",left:`${n.x}px`,top:`${n.y}px`,zIndex:1e3},onclick:e=>{e.stopPropagation()}},[t()(".dropdown-backdrop",{onclick:t=>{e.onClose()},oncontextmenu:t=>{t.preventDefault(),e.onClose()}}),t()(".dropdown-menu-content",e.options.map((n,o)=>{let i=o===r.selectedIndex;return t()(".dropdown-menu-item",{key:n.name,class:i?"selected":"",onclick:t=>{t.preventDefault(),t.stopPropagation(),e.onSelect(n)},onmouseenter:()=>{r.selectedIndex=o,t().redraw()},onkeydown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),e.onSelect(n))},tabindex:i?0:-1},[t()(".dropdown-menu-icon",{innerHTML:n.icon}),t()(".dropdown-menu-label",n.title),n.shortcut&&t()(".dropdown-menu-shortcut",n.shortcut)])}))])}},T=new class{htmlToMarkdown(e){let t;"string"==typeof e?(t=document.createElement("div")).innerHTML=e:t=e.cloneNode(!0),t.innerHTML=t.innerHTML.replace(/\u200B/g,"");let r="";return this._normalizeNodes(t),Array.from(t.childNodes).forEach(e=>{r+=this._nodeToMarkdownRecursive(e)}),(r=(r=r.replace(/\n\s*\n\s*\n+/g,"\n\n")).replace(/ +\n/g,"\n")).trim()}_normalizeNodes(e){let t=e.firstChild;for(;t;){let r=t.nextSibling;if(t.nodeType===Node.TEXT_NODE&&r&&r.nodeType===Node.TEXT_NODE)t.textContent=(t.textContent||"")+(r.textContent||""),e.removeChild(r),r=t.nextSibling;else if("BR"===t.nodeName){if(!r||"BR"===r.nodeName||this._isBlockElement(r)){let r=document.createTextNode("\n");e.insertBefore(r,t)}else if(r.nodeType!==Node.TEXT_NODE||r.textContent.startsWith("\n")){if(r.nodeType===Node.ELEMENT_NODE&&!this._isBlockElement(r)){let t=document.createTextNode("\n");e.insertBefore(t,r)}}else r.textContent="\n"+r.textContent;e.removeChild(t),t=r;continue}t&&t.childNodes&&t.childNodes.length>0&&t.nodeType===Node.ELEMENT_NODE&&this._normalizeNodes(t),t=r}}_isBlockElement(e){return!!e&&e.nodeType===Node.ELEMENT_NODE&&["P","H1","H2","H3","H4","H5","H6","UL","OL","LI","BLOCKQUOTE","PRE","HR","TABLE","THEAD","TBODY","TR","DIV","IMG"].includes(e.nodeName)}_findParentElement(e,t){let r=Array.isArray(t)?t:[t],n=e.parentNode;for(;n;){if(n.nodeType===Node.ELEMENT_NODE&&r.includes(n.nodeName))return n;n=n.parentNode}return null}_nodeToMarkdownRecursive(e,t={}){switch(e.nodeName){case"#text":let r=e.textContent||"";return t.inTableCell?(r=r.replace(/\|/g,"\\|"),this._findParentElement(e,"PRE")||this._findParentElement(e,"CODE")||(r=r.replace(/\n/g,"<br>"))):this._findParentElement(e,"PRE")||this._findParentElement(e,"CODE")||(r=r.replace(/  +/g," ")),r;case"BR":return t.inTableCell?"<br>":"\n";case"IMG":if(t.inTableCell)return e.outerHTML;let n=e.getAttribute("src")||"",o=e.getAttribute("alt")||"";return`![${o}](${n})

`;case"B":case"STRONG":return`**${this._processInlineContainerRecursive(e,t).trim()}**`;case"I":case"EM":return`*${this._processInlineContainerRecursive(e,t).trim()}*`;case"S":case"DEL":case"STRIKE":return`~~${this._processInlineContainerRecursive(e,t).trim()}~~`;case"A":let i=e.getAttribute("href")||"",l=this._processInlineContainerRecursive(e,t).trim();return`[${l}](${i})`;case"CODE":if(!this._findParentElement(e,"PRE")){let r=e.textContent||"";return t.inTableCell&&(r=r.replace(/\|/g,"\\|")),`\`${r.trim()}\``}return"";case"P":if(t.inTableCell)return this._nodeToHtmlForTableCell(e);let a=e.parentNode,s=a&&("LI"===a.nodeName||"BLOCKQUOTE"===a.nodeName),d=this._processInlineContainerRecursive(e,t).trim();if(s)return d.replace(/\n\s*\n/g,"\n").trim()+(d?"\n":"");return d?`${d}

`:"";case"UL":case"OL":if(t.inTableCell)return this._nodeToHtmlForTableCell(e);let c=this._listToMarkdownRecursive(e,"",e.nodeName,1,t);return c.trim().length>0&&!c.endsWith("\n\n")&&(c.endsWith("\n")||(c+="\n"),c+="\n"),c;case"BLOCKQUOTE":if(t.inTableCell)return this._nodeToHtmlForTableCell(e);let u=this._processInlineContainerRecursive(e,t).split("\n").map(e=>e.trim()).filter(e=>e.length>0);return u.map(e=>`> ${e}`).join("\n")+(u.length>0?"\n\n":"");case"PRE":if(t.inTableCell)return this._nodeToHtmlForTableCell(e);if(e.firstChild&&"CODE"===e.firstChild.nodeName){let t=e.firstChild,r=t.className.match(/language-(\S+)/),n=r?r[1]:"",o=t.textContent||"";return o.length>0&&!o.endsWith("\n")&&(o+="\n"),`\`\`\`${n}
${o}\`\`\`

`}let p=e.textContent||"";return p.length>0&&!p.endsWith("\n")&&(p+="\n"),`\`\`\`
${p}\`\`\`

`;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":if(t.inTableCell)return this._nodeToHtmlForTableCell(e);let h=parseInt(e.nodeName[1]);return`${"#".repeat(h)} ${this._processInlineContainerRecursive(e,t).trim()}

`;case"HR":if(t.inTableCell)return this._nodeToHtmlForTableCell(e);return"\n---\n\n";case"DIV":if(t.inTableCell)return this._nodeToHtmlForTableCell(e);let A=this._processInlineContainerRecursive(e,t).trim();if(e.classList.contains("md-editable-area"))return A;return A?`${A}

`:"";case"TABLE":return this._tableToMarkdown(e,t);case"LI":return this._processInlineContainerRecursive(e,t).trim();default:if(e.childNodes&&e.childNodes.length>0)return this._processInlineContainerRecursive(e,t);let g=e.textContent||"";return t.inTableCell||this._findParentElement(e,"PRE")||this._findParentElement(e,"CODE")||(g=g.replace(/  +/g," ")),t.inTableCell&&(g=g.replace(/\|/g,"\\|"),this._findParentElement(e,"PRE")||this._findParentElement(e,"CODE")||(g=g.replace(/\n/g,"<br>"))),g}}_processInlineContainerRecursive(e,t={}){let r="";return Array.from(e.childNodes).forEach(e=>{r+=this._nodeToMarkdownRecursive(e,t)}),r}_listToMarkdownRecursive(e,t,r,n,o={}){let i="",l=1;return Array.from(e.children).forEach(e=>{if("LI"===e.nodeName){let a="OL"===r?`${l}. `:"- ",s=this._processInlineContainerRecursive(e,o).trim();s&&s.split("\n").forEach((e,r)=>{0===r?i+=`${t}${a}${e}
`:i+=`${t}  ${e}
`}),e.querySelectorAll("ul, ol").forEach(r=>{r.parentNode===e&&(i+=this._listToMarkdownRecursive(r,t+"  ",r.nodeName,n+1,o))}),"OL"===r&&l++}}),i}_tableToMarkdown(e,t={}){let r="",n=e.querySelector("thead"),o=e.querySelector("tbody")||e,i=0,l="",a="";n&&Array.from(n.querySelectorAll("tr")).forEach(e=>{let t=Array.from(e.querySelectorAll("th, td")).map(e=>this._cellContentToMarkdown(e));t.length>0&&(l+=`| ${t.join(" | ")} |
`,0===i&&(i=t.length))});let s=!1;if(0===i&&o){let e=o.querySelector("tr");if(e&&(Array.from(e.children).some(e=>"TH"===e.nodeName)||Array.from(e.children).every(e=>{var t;return 1===e.children.length&&["STRONG","B","EM","I"].includes(null==(t=e.firstElementChild)?void 0:t.nodeName)}))){let t=Array.from(e.querySelectorAll("th, td")).map(e=>this._cellContentToMarkdown(e));t.length>0&&(l+=`| ${t.join(" | ")} |
`,i=t.length,s=!0)}}if(0===i&&o){let e=o.querySelector("tr");e&&(i=e.querySelectorAll("td, th").length)}if(0===i&&""===l.trim()){let r="";return Array.from(e.querySelectorAll("tr")).forEach(e=>{Array.from(e.querySelectorAll("th, td")).forEach(e=>{r+=this._nodeToMarkdownRecursive(e,{...t,inTableCell:!1})})}),r.trim()?r.trim()+"\n\n":""}return r=l,(""!==l.trim()||i>0)&&(r+=`|${" --- |".repeat(i)}
`),Array.from(o.querySelectorAll("tr")).forEach((e,t)=>{if(s&&0===t)return;let r=Array.from(e.querySelectorAll("td, th")).map(e=>this._cellContentToMarkdown(e)),n=[];for(let e=0;e<i;e++)n.push(r[e]||"");a+=`| ${n.join(" | ")} |
`}),(r+=a).trim()?r.trim()+"\n\n":""}_cellContentToMarkdown(e){return this._processInlineContainerRecursive(e,{inTableCell:!0}).replace(/\n/g," ").trim()}_nodeToHtmlForTableCell(e){return e.outerHTML}},$={savedSelection:null,savedRange:null,savedRangeInfo:null},E=()=>{let e="",r="",i=!1,l=null,a=!1,s=!1,d=!1,c=!1,u={x:0,y:0},p=!1,h=[],A={x:0,y:0},g=null,f=null;return{view:({attrs:m})=>{let{mode:b="wysiwyg",theme:x="light",toolbar:E=!0,placeholder:S="Start writing...",content:R="",isPreview:L=!1,markdownToHtml:z,htmlToMarkdown:M,onContentChange:I,onModeChange:q}=m;if(!i){if(R.includes("<"))e=R,r=M?M(R):T.htmlToMarkdown(R);else r=R,e=z?z(R):R;i=!0}let N=(t,n)=>{if("wysiwyg"===n)e=t,r=M?M(t):T.htmlToMarkdown(t),null==I||I(r);else r=t,e=z?z(t):t,null==I||I(r)};l||(l=new C(e=>{N(e,b)})),l.setMode(b);let H=t=>{if(t!==b){if("markdown"===t&&"wysiwyg"===b){let t;r=M?M(e):(t=e,T.htmlToMarkdown(t))}else"wysiwyg"===t&&"markdown"===b&&z&&(e=z(r));null==l||l.setMode(t),null==q||q(t)}},O=async(e,t,r)=>{l&&(await D(),l.image(e,t,r))},_=async(e,t,r)=>{l&&(await D(),l.link(e,t))},P=async(e,t)=>{l&&(await D(),l.table(e,t))},j=()=>{if("markdown"===b&&document.activeElement instanceof HTMLTextAreaElement){let e=document.activeElement;$.savedSelection={start:e.selectionStart,end:e.selectionEnd}}else if("wysiwyg"===b){let e=document.getSelection();if(e&&e.rangeCount>0){let t=e.getRangeAt(0);$.savedRange=t.cloneRange(),$.savedRangeInfo={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}}},D=()=>new Promise(e=>{if("markdown"===b&&$.savedSelection){let t=null==l?void 0:l.getTextarea();t?setTimeout(()=>{t.setSelectionRange($.savedSelection.start,$.savedSelection.end),t.focus(),e()},0):e()}else"wysiwyg"===b&&$.savedRange&&setTimeout(()=>{var t,r;if(l){let e=l.contentEditable;if(e){e.focus();let n=document.getSelection();if(n&&$.savedRange)try{n.removeAllRanges();let o=document.createRange();$.savedRangeInfo&&$.savedRangeInfo.startContainer.parentNode&&e.contains($.savedRangeInfo.startContainer)?(o.setStart($.savedRangeInfo.startContainer,Math.min($.savedRangeInfo.startOffset,(null==(t=$.savedRangeInfo.startContainer.textContent)?void 0:t.length)||0)),$.savedRangeInfo.endContainer.parentNode&&e.contains($.savedRangeInfo.endContainer)?o.setEnd($.savedRangeInfo.endContainer,Math.min($.savedRangeInfo.endOffset,(null==(r=$.savedRangeInfo.endContainer.textContent)?void 0:r.length)||0)):o.collapse(!0)):(o.selectNodeContents(e),o.collapse(!1)),n.addRange(o)}catch(r){console.warn(" Failed to restore cursor position:",r);let t=document.createRange();t.selectNodeContents(e),t.collapse(!1),n.removeAllRanges(),n.addRange(t)}}}$.savedSelection=null,$.savedRange=null,$.savedRangeInfo=null,e()},10);"wysiwyg"===b&&$.savedRange||($.savedSelection=null,$.savedRange=null,$.savedRangeInfo=null,e())}),U=e=>{var t,r,n;if(!f||!l)return;let o=l.contentEditable;if(!o)return;let i=f,a=i.closest("table");if(!a)return;let s=o.scrollTop,d=o.scrollLeft;try{switch(e){case"insertRowAbove":{let e=i.closest("tr"),r=Array.from(a.rows).indexOf(e),n=e.cells.length,o=a.insertRow(r);for(let i=0;i<n;i++){let n=o.insertCell(i);if(n.innerHTML="&nbsp;",0===r&&e.querySelector("th")){let e=document.createElement("th");e.innerHTML="&nbsp;",null==(t=n.parentNode)||t.replaceChild(e,n)}}break}case"insertRowBelow":{let e=i.closest("tr"),t=Array.from(a.rows).indexOf(e),r=e.cells.length,n=a.insertRow(t+1);for(let e=0;e<r;e++)n.insertCell(e).innerHTML="&nbsp;";break}case"insertColumnLeft":{let e=i.closest("tr"),t=Array.from(e.cells).indexOf(i);for(let e=0;e<a.rows.length;e++){let n=a.rows[e],o=n.insertCell(t);if(o.innerHTML="&nbsp;",0===e&&n.querySelector("th")){let e=document.createElement("th");e.innerHTML="&nbsp;",null==(r=o.parentNode)||r.replaceChild(e,o)}}break}case"insertColumnRight":{let e=i.closest("tr"),t=Array.from(e.cells).indexOf(i);for(let e=0;e<a.rows.length;e++){let r=a.rows[e],o=r.insertCell(t+1);if(o.innerHTML="&nbsp;",0===e&&r.querySelector("th")){let e=document.createElement("th");e.innerHTML="&nbsp;",null==(n=o.parentNode)||n.replaceChild(e,o)}}break}case"deleteRow":{let e=i.closest("tr");a.rows.length>1&&e.remove();break}case"deleteColumn":{let e=i.closest("tr"),t=Array.from(e.cells).indexOf(i);if(a.rows.length>0&&a.rows[0].cells.length>1)for(let e=0;e<a.rows.length;e++)a.rows[e].cells[t]&&a.rows[e].deleteCell(t);break}case"deleteTable":a.remove()}null==I||I(o.innerHTML),setTimeout(()=>{o.scrollTop=s,o.scrollLeft=d},10)}catch(e){console.error("Table operation failed:",e)}},Y=async e=>{p=!1,l&&(await D(),l.executeAction(e.action)),t().redraw()};return t()(".md-wysiwyg-editor-wrapper",{"data-theme":x},[E&&t()(".md-toolbar",[o.map((e,r)=>[...e.map(e=>{let r=!1;return"undo"===e.action?r=!(null==l?void 0:l.canUndo()):"redo"===e.action&&(r=!(null==l?void 0:l.canRedo())),t()("button",{type:"button",class:["md-toolbar-button",e.dropdown?"has-dropdown":"",r?"disabled":""].join(" ").trim(),disabled:r,title:`${e.title}${e.shortcut?` (${e.shortcut})`:""}`,onclick:o=>{o.preventDefault(),r||((e,r,o)=>{if(r&&r.dropdown&&"toggleHeading"===e){j();let e=null==o?void 0:o.target;if(e){let r=e.getBoundingClientRect();h=n,A={x:r.left,y:r.bottom+4},g=e,p=!0,t().redraw();return}}switch(e){case"image":j(),a=!0,t().redraw();break;case"link":j(),s=!0,t().redraw();break;case"table":j(),d=!0,t().redraw();break;default:null==l||l.executeAction(e)}})(e.action,e,o)},innerHTML:e.icon})}),r<o.length-1&&t()(".md-toolbar-separator")]).flat().filter(Boolean)]),t()(".md-editor-content-area",["markdown"===b?t()(".md-markdown-editor-container",{key:"markdown-editor",style:{display:"flex"}},t()("textarea.md-markdown-area[name=markdown-area]",{placeholder:S,value:r,oninput:e=>{N(e.target.value,"markdown")},oncreate:e=>{null==l||l.setTextarea(e.dom)}})):t()("div.md-editable-area",{key:"wysiwyg-editor",contenteditable:!0,"data-placeholder":S,oninput:e=>{N(e.target.innerHTML,"wysiwyg")},oncontextmenu:e=>{let r=e.target;if(r.closest("table")&&"wysiwyg"===b){if(e.preventDefault(),e.stopPropagation(),f=r.closest("td, th")||r,l){let e=l.contentEditable;e&&(e.scrollTop,e.scrollLeft)}return j(),p=!1,c=!0,u={x:e.clientX,y:e.clientY},t().redraw(),!1}},onclick:()=>{let e=!1;c&&(c=!1,e=!0),p&&(p=!1,e=!0),e&&t().redraw()},oncreate:t=>{let r=t.dom;r.innerHTML=e,null==l||l.setContentEditable(r)},onupdate:t=>{var r;let n=t.dom;n.innerHTML===e||(null==(r=document.getSelection())?void 0:r.rangeCount)||(n.innerHTML=e)}})]),t()(".md-tabs",[t()("button.md-tab-button",{type:"button",class:"wysiwyg"===b?"active":"",onclick:()=>H("wysiwyg")},"Visual"),t()("button.md-tab-button",{type:"button",class:"markdown"===b?"active":"",onclick:()=>H("markdown")},"Markdown")]),L&&t()(".editor-preview",{innerHTML:"markdown"===b&&z?z(r):e}),t()(y,{isOpen:a,onClose:()=>{a=!1,t().redraw()},onInsert:O}),t()(w,{isOpen:s,onClose:()=>{s=!1,t().redraw()},onInsert:_}),t()(k,{isOpen:d,onClose:()=>{d=!1,t().redraw()},onSelect:P}),t()(v,{isVisible:c,position:u,onClose:()=>{c=!1,f=null,t().redraw()},onInsertRowAbove:()=>{U("insertRowAbove"),c=!1,f=null,t().redraw()},onInsertRowBelow:()=>{U("insertRowBelow"),c=!1,f=null,t().redraw()},onInsertColumnLeft:()=>{U("insertColumnLeft"),c=!1,f=null,t().redraw()},onInsertColumnRight:()=>{U("insertColumnRight"),c=!1,f=null,t().redraw()},onDeleteRow:()=>{U("deleteRow"),c=!1,f=null,t().redraw()},onDeleteColumn:()=>{U("deleteColumn"),c=!1,f=null,t().redraw()},onDeleteTable:()=>{U("deleteTable"),c=!1,f=null,t().redraw()}}),t()(B,{isVisible:p,position:A,options:h,triggerElement:g,onClose:()=>{p=!1,t().redraw()},onSelect:Y})])}}};var S=r(450),R=r.n(S),L=r(683),z=r.n(L),M=r(265),I=r.n(M),q=r(962),N=r.n(q),H=r(238),O=r.n(H),_=r(971),P=r.n(_),j=r(445),D={};function U(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}D.styleTagTransform=P(),D.setAttributes=N(),D.insert=I().bind(null,"head"),D.domAPI=z(),D.insertStyleElement=O(),R()(j.A,D),j.A&&j.A.locals&&j.A.locals;var Y=U(),W={exec:()=>null};function F(e,t=""){let r="string"==typeof e?e:e.source,n={replace:(e,t)=>{let o="string"==typeof t?t:t.source;return o=o.replace(V.caret,"$1"),r=r.replace(e,o),n},getRegex:()=>new RegExp(r,t)};return n}var V={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Z=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,K=/(?:[*+-]|\d{1,9}[.)])/,Q=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,G=F(Q).replace(/bull/g,K).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),X=F(Q).replace(/bull/g,K).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),J=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ee=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,et=F(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ee).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),er=F(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,K).getRegex(),en="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",eo=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ei=F("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",eo).replace("tag",en).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),el=F(J).replace("hr",Z).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",en).getRegex(),ea={blockquote:F(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",el).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:et,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Z,html:ei,lheading:G,list:er,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:el,table:W,text:/^[^\n]+/},es=F("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Z).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",en).getRegex(),ed={...ea,lheading:X,table:es,paragraph:F(J).replace("hr",Z).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",es).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",en).getRegex()},ec={...ea,html:F(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",eo).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:W,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:F(J).replace("hr",Z).replace("heading",` *#{1,6} *[^
]`).replace("lheading",G).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},eu=/^( {2,}|\\)\n(?!\s*$)/,ep=/[\p{P}\p{S}]/u,eh=/[\s\p{P}\p{S}]/u,eA=/[^\s\p{P}\p{S}]/u,eg=F(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,eh).getRegex(),ef=/(?!~)[\p{P}\p{S}]/u,em=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,eb=F(em,"u").replace(/punct/g,ep).getRegex(),eC=F(em,"u").replace(/punct/g,ef).getRegex(),ex="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ey=F(ex,"gu").replace(/notPunctSpace/g,eA).replace(/punctSpace/g,eh).replace(/punct/g,ep).getRegex(),ew=F(ex,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,ef).getRegex(),ek=F("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,eA).replace(/punctSpace/g,eh).replace(/punct/g,ep).getRegex(),ev=F(/\\(punct)/,"gu").replace(/punct/g,ep).getRegex(),eB=F(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),eT=F(eo).replace("(?:--\x3e|$)","--\x3e").getRegex(),e$=F("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",eT).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),eE=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,eS=F(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",eE).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),eR=F(/^!?\[(label)\]\[(ref)\]/).replace("label",eE).replace("ref",ee).getRegex(),eL=F(/^!?\[(ref)\](?:\[\])?/).replace("ref",ee).getRegex(),ez=F("reflink|nolink(?!\\()","g").replace("reflink",eR).replace("nolink",eL).getRegex(),eM={_backpedal:W,anyPunctuation:ev,autolink:eB,blockSkip:/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,br:eu,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:W,emStrongLDelim:eb,emStrongRDelimAst:ey,emStrongRDelimUnd:ek,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:eS,nolink:eL,punctuation:eg,reflink:eR,reflinkSearch:ez,tag:e$,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:W},eI={...eM,link:F(/^!?\[(label)\]\((.*?)\)/).replace("label",eE).getRegex(),reflink:F(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",eE).getRegex()},eq={...eM,emStrongRDelimAst:ew,emStrongLDelim:eC,url:F(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},eN={...eq,br:F(eu).replace("{2,}","*").getRegex(),text:F(eq.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},eH={normal:ea,gfm:ed,pedantic:ec},eO={normal:eM,gfm:eq,breaks:eN,pedantic:eI},e_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eP=e=>e_[e];function ej(e,t){if(t){if(V.escapeTest.test(e))return e.replace(V.escapeReplace,eP)}else if(V.escapeTestNoEncode.test(e))return e.replace(V.escapeReplaceNoEncode,eP);return e}function eD(e){try{e=encodeURI(e).replace(V.percentDecode,"%")}catch{return null}return e}function eU(e,t){let r=e.replace(V.findPipe,(e,t,r)=>{let n=!1,o=t;for(;--o>=0&&"\\"===r[o];)n=!n;return n?"|":" |"}).split(V.splitPipe),n=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(V.slashPipe,"|");return r}function eY(e,t,r){let n=e.length;if(0===n)return"";let o=0;for(;o<n;){let i=e.charAt(n-o-1);if(i!==t||r)if(i!==t&&r)o++;else break;else o++}return e.slice(0,n-o)}function eW(e,t,r,n,o){let i=t.href,l=t.title||null,a=e[1].replace(o.other.outputLinkReplace,"$1");n.state.inLink=!0;let s={type:"!"===e[0].charAt(0)?"image":"link",raw:r,href:i,title:l,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,s}var eF=class{options;rules;lexer;constructor(e){this.options=e||Y}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:eY(e,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],r=function(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(null===n)return t;let o=n[1];return t.split(`
`).map(e=>{let t=e.match(r.other.beginningSpace);if(null===t)return e;let[n]=t;return n.length>=o.length?e.slice(o.length):e}).join(`
`)}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=eY(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:eY(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=eY(t[0],`
`).split(`
`),r="",n="",o=[];for(;e.length>0;){let t=!1,i=[],l;for(l=0;l<e.length;l++)if(this.rules.other.blockquoteStart.test(e[l]))i.push(e[l]),t=!0;else if(t)break;else i.push(e[l]);e=e.slice(l);let a=i.join(`
`),s=a.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${a}`:a,n=n?`${n}
${s}`:s;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(s,o,!0),this.lexer.state.top=d,0===e.length)break;let c=o.at(-1);if(c?.type==="code")break;if(c?.type==="blockquote"){let t=c.raw+`
`+e.join(`
`),i=this.blockquote(t);o[o.length-1]=i,r=r.substring(0,r.length-c.raw.length)+i.raw,n=n.substring(0,n.length-c.text.length)+i.text;break}if(c?.type==="list"){let t=c.raw+`
`+e.join(`
`),i=this.list(t);o[o.length-1]=i,r=r.substring(0,r.length-c.raw.length)+i.raw,n=n.substring(0,n.length-c.raw.length)+i.raw,e=t.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),n=r.length>1,o={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let i=this.rules.other.listItemRegex(r),l=!1;for(;e;){let r=!1,n="",a="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;n=t[0],e=e.substring(n.length);let s=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),d=e.split(`
`,1)[0],c=!s.trim(),u=0;if(this.options.pedantic?(u=2,a=s.trimStart()):c?u=t[1].length+1:(u=(u=t[2].search(this.rules.other.nonSpaceChar))>4?1:u,a=s.slice(u),u+=t[1].length),c&&this.rules.other.blankLine.test(d)&&(n+=d+`
`,e=e.substring(d.length+1),r=!0),!r){let t=this.rules.other.nextBulletRegex(u),r=this.rules.other.hrRegex(u),o=this.rules.other.fencesBeginRegex(u),i=this.rules.other.headingBeginRegex(u),l=this.rules.other.htmlBeginRegex(u);for(;e;){let p=e.split(`
`,1)[0],h;if(d=p,h=this.options.pedantic?d=d.replace(this.rules.other.listReplaceNesting,"  "):d.replace(this.rules.other.tabCharGlobal,"    "),o.test(d)||i.test(d)||l.test(d)||t.test(d)||r.test(d))break;if(h.search(this.rules.other.nonSpaceChar)>=u||!d.trim())a+=`
`+h.slice(u);else{if(c||s.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||o.test(s)||i.test(s)||r.test(s))break;a+=`
`+d}c||d.trim()||(c=!0),n+=p+`
`,e=e.substring(p.length+1),s=h.slice(u)}}o.loose||(l?o.loose=!0:this.rules.other.doubleBlankLine.test(n)&&(l=!0));let p=null,h;this.options.gfm&&(p=this.rules.other.listIsTask.exec(a))&&(h="[ ] "!==p[0],a=a.replace(this.rules.other.listReplaceTask,"")),o.items.push({type:"list_item",raw:n,task:!!p,checked:h,loose:!1,text:a,tokens:[]}),o.raw+=n}let a=o.items.at(-1);if(!a)return;a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd(),o.raw=o.raw.trimEnd();for(let e=0;e<o.items.length;e++)if(this.lexer.state.top=!1,o.items[e].tokens=this.lexer.blockTokens(o.items[e].text,[]),!o.loose){let t=o.items[e].tokens.filter(e=>"space"===e.type);o.loose=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw))}if(o.loose)for(let e=0;e<o.items.length;e++)o.items[e].loose=!0;return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:r,title:n}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let r=eU(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let e of n)this.rules.other.tableAlignRight.test(e)?i.align.push("right"):this.rules.other.tableAlignCenter.test(e)?i.align.push("center"):this.rules.other.tableAlignLeft.test(e)?i.align.push("left"):i.align.push(null);for(let e=0;e<r.length;e++)i.header.push({text:r[e],tokens:this.lexer.inline(r[e]),header:!0,align:i.align[e]});for(let e of o)i.rows.push(eU(e,i.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:i.align[t]})));return i}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=eY(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(")"))return -1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if("("===e[n])r++;else if(e[n]===t[1]&&--r<0)return n;return r>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let r=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,r).trim(),t[3]=""}}let r=t[2],n="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(r);e&&(r=e[1],n=e[3])}else n=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(r=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?r.slice(1):r.slice(1,-1)),eW(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let e=t[(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=r[0].charAt(0);return{type:"text",raw:e,text:e}}return eW(r,e,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!r||this.rules.inline.punctuation.exec(r))){let r=[...n[0]].length-1,o,i,l=r,a=0,s="*"===n[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(s.lastIndex=0,t=t.slice(-1*e.length+r);null!=(n=s.exec(t));){if(!(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6]))continue;if(i=[...o].length,n[3]||n[4]){l+=i;continue}if((n[5]||n[6])&&r%3&&!((r+i)%3)){a+=i;continue}if((l-=i)>0)continue;i=Math.min(i,i+l+a);let t=[...n[0]][0].length,s=e.slice(0,r+n.index+t+i);if(Math.min(r,i)%2){let e=s.slice(1,-1);return{type:"em",raw:s,text:e,tokens:this.lexer.inlineTokens(e)}}let d=s.slice(2,-2);return{type:"strong",raw:s,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(e),n=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return r&&n&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,r;return r="@"===t[2]?"mailto:"+(e=t[1]):e=t[1],{type:"link",raw:t[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,r;if("@"===t[2])r="mailto:"+(e=t[0]);else{let n;do n=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(n!==t[0]);e=t[0],r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},eV=class e{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Y,this.options.tokenizer=this.options.tokenizer||new eF,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:V,block:eH.normal,inline:eO.normal};this.options.pedantic?(t.block=eH.pedantic,t.inline=eO.pedantic):this.options.gfm&&(t.block=eH.gfm,this.options.breaks?t.inline=eO.breaks:t.inline=eO.gfm),this.tokenizer.rules=t}static get rules(){return{block:eH,inline:eO}}static lex(t,r){return new e(r).lex(t)}static lexInline(t,r){return new e(r).inlineTokens(t)}lex(e){e=e.replace(V.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){for(this.options.pedantic&&(e=e.replace(V.tabCharGlobal,"    ").replace(V.spaceLine,""));e;){let n;if(this.options.extensions?.block?.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))continue;if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length);let r=t.at(-1);1===n.raw.length&&void 0!==r?r.raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length);let r=t.at(-1);r?.type==="paragraph"||r?.type==="text"?(r.raw+=(r.raw.endsWith(`
`)?"":`
`)+n.raw,r.text+=`
`+n.text,this.inlineQueue.at(-1).src=r.text):t.push(n);continue}if((n=this.tokenizer.fences(e))||(n=this.tokenizer.heading(e))||(n=this.tokenizer.hr(e))||(n=this.tokenizer.blockquote(e))||(n=this.tokenizer.list(e))||(n=this.tokenizer.html(e))){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length);let r=t.at(-1);r?.type==="paragraph"||r?.type==="text"?(r.raw+=(r.raw.endsWith(`
`)?"":`
`)+n.raw,r.text+=`
`+n.raw,this.inlineQueue.at(-1).src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title},t.push(n));continue}if((n=this.tokenizer.table(e))||(n=this.tokenizer.lheading(e))){e=e.substring(n.raw.length),t.push(n);continue}let o=e;if(this.options.extensions?.startBlock){let t=1/0,r=e.slice(1),n;this.options.extensions.startBlock.forEach(e=>{"number"==typeof(n=e.call({lexer:this},r))&&n>=0&&(t=Math.min(t,n))}),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o))){let i=t.at(-1);r&&i?.type==="paragraph"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(n),r=o.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length);let r=t.at(-1);r?.type==="text"?(r.raw+=(r.raw.endsWith(`
`)?"":`
`)+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=r.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r=e,n=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(n=this.tokenizer.rules.inline.reflinkSearch.exec(r));)e.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(n=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,n.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(n=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let o=!1,i="";for(;e;){let n;if(o||(i=""),o=!1,this.options.extensions?.inline?.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))continue;if((n=this.tokenizer.escape(e))||(n=this.tokenizer.tag(e))||(n=this.tokenizer.link(e))){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length);let r=t.at(-1);"text"===n.type&&r?.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if((n=this.tokenizer.emStrong(e,r,i))||(n=this.tokenizer.codespan(e))||(n=this.tokenizer.br(e))||(n=this.tokenizer.del(e))||(n=this.tokenizer.autolink(e))||!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}let l=e;if(this.options.extensions?.startInline){let t=1/0,r=e.slice(1),n;this.options.extensions.startInline.forEach(e=>{"number"==typeof(n=e.call({lexer:this},r))&&n>=0&&(t=Math.min(t,n))}),t<1/0&&t>=0&&(l=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(l)){e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(i=n.raw.slice(-1)),o=!0;let r=t.at(-1);r?.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw Error(t)}}return t}},eZ=class{options;parser;constructor(e){this.options=e||Y}space(e){return""}code({text:e,lang:t,escaped:r}){let n=(t||"").match(V.notSpaceStart)?.[0],o=e.replace(V.endingNewline,"")+`
`;return n?'<pre><code class="language-'+ej(n)+'">'+(r?o:ej(o,!0))+`</code></pre>
`:"<pre><code>"+(r?o:ej(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,r=e.start,n="";for(let t=0;t<e.items.length;t++){let r=e.items[t];n+=this.listitem(r)}let o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+`>
`+n+"</"+o+`>
`}listitem(e){let t="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=r+" "+ej(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let t=0;t<e.header.length;t++)r+=this.tablecell(e.header[t]);t+=this.tablerow({text:r});let n="";for(let t=0;t<e.rows.length;t++){let o=e.rows[t];r="";for(let e=0;e<o.length;e++)r+=this.tablecell(o[e]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ej(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){let n=this.parser.parseInline(r),o=eD(e);if(null===o)return n;let i='<a href="'+(e=o)+'"';return t&&(i+=' title="'+ej(t)+'"'),i+=">"+n+"</a>"}image({href:e,title:t,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));let o=eD(e);if(null===o)return ej(r);e=o;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${ej(t)}"`),i+=">"}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ej(e.text)}},eK=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},eQ=class e{options;renderer;textRenderer;constructor(e){this.options=e||Y,this.options.renderer=this.options.renderer||new eZ,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new eK}static parse(t,r){return new e(r).parse(t)}static parseInline(t,r){return new e(r).parseInline(t)}parse(e,t=!0){let r="";for(let n=0;n<e.length;n++){let o=e[n];if(this.options.extensions?.renderers?.[o.type]){let e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){r+=e||"";continue}}switch(o.type){case"space":r+=this.renderer.space(o);continue;case"hr":r+=this.renderer.hr(o);continue;case"heading":r+=this.renderer.heading(o);continue;case"code":r+=this.renderer.code(o);continue;case"table":r+=this.renderer.table(o);continue;case"blockquote":r+=this.renderer.blockquote(o);continue;case"list":r+=this.renderer.list(o);continue;case"html":r+=this.renderer.html(o);continue;case"def":r+=this.renderer.def(o);continue;case"paragraph":r+=this.renderer.paragraph(o);continue;case"text":{let i=o,l=this.renderer.text(i);for(;n+1<e.length&&"text"===e[n+1].type;)i=e[++n],l+=`
`+this.renderer.text(i);t?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw Error(e)}}}return r}parseInline(e,t=this.renderer){let r="";for(let n=0;n<e.length;n++){let o=e[n];if(this.options.extensions?.renderers?.[o.type]){let e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=e||"";continue}}switch(o.type){case"escape":case"text":r+=t.text(o);break;case"html":r+=t.html(o);break;case"link":r+=t.link(o);break;case"image":r+=t.image(o);break;case"strong":r+=t.strong(o);break;case"em":r+=t.em(o);break;case"codespan":r+=t.codespan(o);break;case"br":r+=t.br(o);break;case"del":r+=t.del(o);break;default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw Error(e)}}}return r}},eG=class{options;block;constructor(e){this.options=e||Y}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?eV.lex:eV.lexInline}provideParser(){return this.block?eQ.parse:eQ.parseInline}},eX=new class{defaults=U();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=eQ;Renderer=eZ;TextRenderer=eK;Lexer=eV;Tokenizer=eF;Hooks=eG;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(let n of e)switch(r=r.concat(t.call(this,n)),n.type){case"table":for(let e of n.header)r=r.concat(this.walkTokens(e.tokens,t));for(let e of n.rows)for(let n of e)r=r.concat(this.walkTokens(n.tokens,t));break;case"list":r=r.concat(this.walkTokens(n.items,t));break;default:{let e=n;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach(n=>{let o=e[n].flat(1/0);r=r.concat(this.walkTokens(o,t))}):e.tokens&&(r=r.concat(this.walkTokens(e.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{let r={...e};if(r.async=this.defaults.async||r.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw Error("extension name required");if("renderer"in e){let r=t.renderers[e.name];r?t.renderers[e.name]=function(...t){let n=e.renderer.apply(this,t);return!1===n&&(n=r.apply(this,t)),n}:t.renderers[e.name]=e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw Error("extension level must be 'block' or 'inline'");let r=t[e.level];r?r.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),r.extensions=t),e.renderer){let t=this.defaults.renderer||new eZ(this.defaults);for(let r in e.renderer){if(!(r in t))throw Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;let n=e.renderer[r],o=t[r];t[r]=(...e)=>{let r=n.apply(t,e);return!1===r&&(r=o.apply(t,e)),r||""}}r.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new eF(this.defaults);for(let r in e.tokenizer){if(!(r in t))throw Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;let n=e.tokenizer[r],o=t[r];t[r]=(...e)=>{let r=n.apply(t,e);return!1===r&&(r=o.apply(t,e)),r}}r.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new eG;for(let r in e.hooks){if(!(r in t))throw Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;let n=e.hooks[r],o=t[r];eG.passThroughHooks.has(r)?t[r]=e=>{if(this.defaults.async&&eG.passThroughHooksRespectAsync.has(r))return Promise.resolve(n.call(t,e)).then(e=>o.call(t,e));let i=n.call(t,e);return o.call(t,i)}:t[r]=(...e)=>{let r=n.apply(t,e);return!1===r&&(r=o.apply(t,e)),r}}r.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,n=e.walkTokens;r.walkTokens=function(e){let r=[];return r.push(n.call(this,e)),t&&(r=r.concat(t.call(this,e))),r}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return eV.lex(e,t??this.defaults)}parser(e,t){return eQ.parse(e,t??this.defaults)}parseMarkdown(e){return(t,r)=>{let n={...r},o={...this.defaults,...n},i=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===n.async)return i(Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return i(Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return i(Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);let l=o.hooks?o.hooks.provideLexer():e?eV.lex:eV.lexInline,a=o.hooks?o.hooks.provideParser():e?eQ.parse:eQ.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(e=>l(e,o)).then(e=>o.hooks?o.hooks.processAllTokens(e):e).then(e=>o.walkTokens?Promise.all(this.walkTokens(e,o.walkTokens)).then(()=>e):e).then(e=>a(e,o)).then(e=>o.hooks?o.hooks.postprocess(e):e).catch(i);try{o.hooks&&(t=o.hooks.preprocess(t));let e=l(t,o);o.hooks&&(e=o.hooks.processAllTokens(e)),o.walkTokens&&this.walkTokens(e,o.walkTokens);let r=a(e,o);return o.hooks&&(r=o.hooks.postprocess(r)),r}catch(e){return i(e)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let e="<p>An error occurred:</p><pre>"+ej(r.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(r);throw r}}};function eJ(e,t){return eX.parse(e,t)}eJ.options=eJ.setOptions=function(e){return eX.setOptions(e),eJ.defaults=eX.defaults,Y=eJ.defaults,eJ},eJ.getDefaults=U,eJ.defaults=Y,eJ.use=function(...e){return eX.use(...e),eJ.defaults=eX.defaults,Y=eJ.defaults,eJ},eJ.walkTokens=function(e,t){return eX.walkTokens(e,t)},eJ.parseInline=eX.parseInline,eJ.Parser=eQ,eJ.parser=eQ.parse,eJ.Renderer=eZ,eJ.TextRenderer=eK,eJ.Lexer=eV,eJ.lexer=eV.lex,eJ.Tokenizer=eF,eJ.Hooks=eG,eJ.parse=eJ,eJ.options,eJ.setOptions,eJ.use,eJ.walkTokens,eJ.parseInline,eQ.parse,eV.lex;let e0=[],e1=[],e2=[],e3=[],e4=[],e5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},e6=RegExp(`[${Object.keys(e5).join("")}]`,"g"),e9=e=>e.replace(e6,e=>e5[e]),e7=(e,t)=>{let r=t.trim();return/^<\/?(ul|ol|li|h|p|bl|table|tbody|tr|td|th|caption)/i.test(r)||""===r?`
${t}
`:`
<p>
${r}
</p>
`},e8=e=>{if(0===e.length)return"";let t="",r=[];for(let n=0;n<e.length;n++){let o=e[n],i=n<e.length-1?e[n+1]:null;for(;r.length>0&&r[r.length-1].level>o.level;){let e=r.pop();e.hasOpenLi&&(t+="</li>"),t+=`</${e.type}>`}if(r.length>0&&r[r.length-1].level===o.level&&r[r.length-1].type!==o.type){let e=r.pop();e.hasOpenLi&&(t+="</li>"),t+=`</${e.type}>`}(0===r.length||r[r.length-1].level<o.level)&&(t+=`<${o.type}>`,r.push({type:o.type,level:o.level,hasOpenLi:!1})),r.length>0&&r[r.length-1].hasOpenLi&&r[r.length-1].level===o.level&&(t+="</li>",r[r.length-1].hasOpenLi=!1),t+=`<li>${o.content}`,r[r.length-1].hasOpenLi=!0,(!i||i.level<=o.level)&&(t+="</li>",r[r.length-1].hasOpenLi=!1)}for(;r.length>0;){let e=r.pop();e.hasOpenLi&&(t+="</li>"),t+=`</${e.type}>`}return t},te=(e,t,r,n="")=>{let o=r.split("|").filter((e,t,r)=>t>0&&t<r.length-1).map(e=>/:-+:/g.test(e)?"center":/-+:/g.test(e)?"right":/:-+/.test(e)?"left":""),i=e=>{let t=o[e];return t?` align="${t}"`:""},l=t.split("|").slice(1,-1),a=l.map(e=>e.trim()),s=[],d=0;for(let e=0;e<a.length;e++){if(d>0){d--;continue}let t=a[e];if(t&&t.length){let r=1,n=!1;for(let t=e+1;t<a.length&&0===a[t].length;t++)if(""===l[t]){n=!0;break}if(n)for(let t=e+1;t<a.length&&0===a[t].length;t++)r++;r>1?(d=r-1,s.push(`<th${i(e)} colspan="${r}">${t}</th>`)):s.push(`<th${i(e)}>${t}</th>`)}else s.push(`<th${i(e)}></th>`)}return`
<table><tbody><tr>
  ${s.join("\n  ")}
</tr>
${n.split("\n").map(e=>e.trim()).filter(e=>e&&e.length).map(e=>{let t=e.split("|").slice(1,-1),r=t.map(e=>e.trim()),n=[],o=0;for(let e=0;e<r.length;e++){if(o>0){o--;continue}let l=r[e];if(l&&l.length){let a=1,s=!1;for(let n=e+1;n<r.length&&0===r[n].length;n++)if(""===t[n]){s=!0;break}if(s)for(let t=e+1;t<r.length&&0===r[t].length;t++)a++;a>1?(o=a-1,n.push(`<td${i(e)} colspan="${a}">${l}</td>`)):n.push(`<td${i(e)}>${l}</td>`)}else n.push(`<td${i(e)}></td>`)}return`<tr>
  ${n.join("\n  ")}
</tr>
`}).join("")}</tbody></table>
`},tt=[[/\r\n/g,"\n"],[/\n(#+)(.*)/g,(e,t,r="")=>{let n=t.length;return`<h${n}>${r.trim()}</h${n}>`}],[/!\[([^\[]+)\]\((?:javascript:)?([^\)]+)\)/g,'<img src="$2" alt="$1">'],[/\[([^\[]+)\]\((?:javascript:)?([^\)]+)\)/g,'<a href="$2">$1</a>'],[/([^\\])(\*\*|__)(.*?(_|\*)?)\2/g,"$1<strong>$3</strong>"],[/([^\\])(\*|_)(.*?)\2/g,"$1<em>$3</em>"],[/\\_/g,"&#95;"],[/\~\~(.*?)\~\~/g,"<del>$1</del>"],[/\:\"(.*?)\"\:/g,"<q>$1</q>"],[/\n-{3,}/g,"\n<hr />"],[/\n( *)[-*+] \[([xX ])\](.*)/g,(e,t,r,n)=>`
{{LISTITEM:ul:${Math.floor(t.length/2)}:<input type="checkbox"${"x"===r.toLowerCase()?" checked":""} disabled> ${n.trim()}}}
`],[/\n( *)(\*|-|\+)(.*)/g,(e,t,r,n)=>`
{{LISTITEM:ul:${Math.floor(t.length/2)}:${n.trim()}}}
`],[/\n( *)([0-9]+\.) (.*)/g,(e,t,r,n)=>`
{{LISTITEM:ol:${Math.floor(t.length/2)}:${n.trim()}}}
`],[/\n(&gt;|\>)(.*)/g,(e,t,r="")=>`
<blockquote>${r.trim()}</blockquote>`],[/(\^)(.*?)\1/g,"<sup>$2</sup>"],[/(\~)(.*?)\1/g,"<sub>$2</sub>"],[/\n\[(.+?)\]\n( *\|[^\n]+\|\r?\n)((?: *\|:?[ -]+:?)+ *\|)(\n(?: *\|[^\n]+\|\r?\n?)*)?/g,(e,t,r,n,o="")=>te(0,r,n,o).replace("<table>",`<table><caption>${t.trim()}</caption>`)],[/( *\|[^\n]+\|\r?\n)((?: *\|:?[ -]+:?)+ *\|)(\n(?: *\|[^\n]+\|\r?\n?)*)?/g,te],[/\[\^([^\]]+)\](?!:)/g,(e,t)=>`<sup id="fnref:${t}"><a href="#fn:${t}">[${t}]</a></sup>`],[/\[\^([^\]]+)\]:\s*((?:[^\n]*\n?)*)/g,(e,t,r)=>(e4.push([t,r.trim()]),"")],[/\n([A-Z][A-Za-z\s]*?)\s:\s*([A-Z][^\n]*)/g,(e,t,r)=>`
<dl><dt>${t.trim()}</dt><dd>${r.trim()}</dd></dl>
`]],tr=[[/\s?<\/[ou]l>\s?<[ou]l>/g,"",3],[/<\/blockquote>\n<blockquote>/g,"<br>\n"],[/https?:\/\/[^"']*/g,e=>e.replace(/<\/?em>/g,"_")],[/&#95;/g,"_"]];eJ.setOptions({gfm:!0,breaks:!0,pedantic:!1});var tn={markdownToHtml:function(e){return e&&""!==e.trim()?eJ.parse(e):""}},to={markdownToHtml:function(e){return e&&""!==e.trim()?((e,t=!1,r=!1)=>(e0.length=0,e1.length=0,e2.length=0,e3.length=0,e4.length=0,e=(e=(e=(e=`
${e}
`.replace(/\n\s*```\w*\n([^]*?)\n\s*```\s*\n/g,(e,t)=>(e0.push(t),`
<pre>{{CODEBLOCKPH${e0.length-1}}}</pre>
`))).replace(/\n\s*\$\$([^]*?)\$\$\s*\n/g,(e,t)=>(e2.push(t.trim()),`
{{MATHBLOCKPH${e2.length-1}}}
`))).replace(/`([^`]+)`/g,(e,t)=>(e1.push(t),`{{INLINECODEPH${e1.length-1}}}`))).replace(/\$([^$\n]+)\$/g,(e,t)=>(e3.push(t),`{{INLINEMATHPH${e3.length-1}}}`)),tt.forEach(([t,r,n=1])=>{for(let o=0;o<n;o++)e=e.replace(t,r)}),e=(e=(e=>{if(!e.includes("{{LISTITEM:"))return e;let t=e.split("\n"),r=[],n=[],o=!1;for(let e of t){let t=e.match(/\{\{LISTITEM:([^:]+):([^:]+):(.+)\}\}/);if(t){let i=t[1],l=parseInt(t[2]);if(o&&n.length>0){let e=n[n.length-1];e.type!==i&&e.level===l&&(r.push([...n]),n=[])}n.push({type:i,level:l,content:t[3],originalLine:e}),o=!1}else""!==e.trim()?(n.length>0&&(r.push([...n]),n=[]),o=!1):""===e.trim()&&(o=!0)}if(n.length>0&&r.push(n),0===r.length)return e;for(let t of r){let r=e8(t);e=e.replace(t[0].originalLine,r);for(let r=1;r<t.length;r++)e=e.replace(t[r].originalLine,"")}return e})(e)).replace(/\n([^\n]+)\n/g,e7),tr.forEach(([t,r,n=1])=>{for(let o=0;o<n;o++)e=e.replace(t,r)}),e=(e=(e=(e=(e=e.replace(/<pre>{{CODEBLOCKPH(\d+)}}<\/pre>/g,(e,t)=>{let r=e0[parseInt(t)];return`<pre>${e9(r)}</pre>`})).replace(/{{MATHBLOCKPH(\d+)}}/g,(e,t)=>{let r=e2[parseInt(t)];return`<div class="math-block">${e9(r)}</div>`})).replace(/{{INLINECODEPH(\d+)}}/g,(e,t)=>{let r=e1[parseInt(t)];return`<code>${e9(r)}</code>`})).replace(/{{INLINEMATHPH(\d+)}}/g,(e,t)=>{let r=e3[parseInt(t)];return`<span class="math-inline">${e9(r)}</span>`})).trim()+(0===e4.length?"":`
<div class="footnotes">
  <hr>
  <ol>
    ${e4.map(([e,t])=>`
    <li id="fn:${e}">
      ${t}
      <sup><a href="#fnref:${e}"></a></sup>
    </li>`).join("\n")}
  </ol>
</div>`),t&&(e=e.replace(/^<p>([\s\S]*)<\/p>$/,"$1")),r&&(e=e.replace(/<a href="/g,'<a target="_blank" href="')),e))(e):""}};function ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function tl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}t().mount(document.body,function(){var e={editor1:{mode:"wysiwyg",content:"# Welcome to the Mithril Markdown Editor\n\nThis is a **powerful** WYSIWYG markdown editor built with *Mithril.js*.\n\n## Features\n\n- **Dual Mode**: Switch between WYSIWYG and Markdown modes\n- **Theme Support**: Light and dark themes\n- **Rich Toolbar**: Full formatting options\n- **Real-time Preview**: See your markdown rendered instantly\n- **Pluggable Renderers**: Use marked.js or slimdown-js\n\n### Formatting Examples\n\nYou can format text in many ways:\n\n- **Bold text**\n- *Italic text*\n- ~~Strikethrough text~~\n- `Inline code`\n- [Links](https://mithril.js.org)\n\n### Code Blocks\n\n```javascript\nconst editor = {\n  theme: 'light',\n  mode: 'wysiwyg',\n  content: 'Hello world!'\n};\n```\n\n### Lists\n\n1. First item\n2. Second item\n3. Third item\n\n- Unordered item\n- Another item\n- Last item\n\n### Tables\n\n| Feature | Supported |\n|---------|-----------|\n| Bold |  |\n| Italic |  |\n| Links |  |\n| Tables |  |\n\n> This is a blockquote. It can contain multiple lines and **formatted text**.\n\n---\n\nTry switching between **Visual** and **Markdown** modes to see the editor in action!",theme:"light",isPreview:!1,renderer:"marked"},editor2:{mode:"markdown",content:"# Simple Editor with slimdown-js\n\nThis editor uses **slimdown-js** for rendering.",theme:"light",isPreview:!1,renderer:"slimdown"}},r=function(r){e.editor1=ti({},e.editor1,r),t().redraw()},n=function(r){e.editor2=ti({},e.editor2,r),t().redraw()},o=function(){var t="light"===e.editor1.theme?"dark":"light";r({theme:t}),n({theme:t}),document.body.className="dark"===t?"dark-theme":""},i=function(){r({isPreview:!e.editor1.isPreview})},l=function(){r({renderer:"marked"===e.editor1.renderer?"slimdown":"marked"})},a=function(e){return"marked"===e?tn:to};return{view:function(){return[t()("div.container",[t()("div.header",[t()("h1","Mithril Markdown WYSIWYG Editor"),t()("p","A powerful WYSIWYG markdown editor built with Mithril.js")]),t()("div.demo-section",[t()("h2","Editor with ".concat(e.editor1.renderer," renderer")),t()("div.controls",[t()("button.theme-toggle",{onclick:o},"Toggle Theme"),t()("button.theme-toggle",{onclick:i},"Toggle Preview"),t()("button.theme-toggle",{onclick:l},"Switch to ".concat("marked"===e.editor1.renderer?"slimdown":"marked"))]),t()(E,tl(ti({mode:e.editor1.mode,content:e.editor1.content,theme:e.editor1.theme,isPreview:e.editor1.isPreview,toolbar:!0,placeholder:"Start writing..."},a(e.editor1.renderer)),{onContentChange:function(e){r({content:e}),console.log("Editor 1 content changed:",e.length,"characters")},onModeChange:function(e){r({mode:e})}}))]),t()("div.demo-section",[t()("h2","Minimal Editor with ".concat(e.editor2.renderer," renderer (No Toolbar)")),t()(E,tl(ti({mode:e.editor2.mode,content:e.editor2.content,theme:e.editor2.theme,isPreview:e.editor2.isPreview,toolbar:!1,placeholder:"Type your markdown here..."},a(e.editor2.renderer)),{onContentChange:function(e){n({content:e})},onModeChange:function(e){n({mode:e})}}))]),t()("div.demo-section",[t()("h2","About the Implementation"),t()("div",[t()("h3","Key Features:"),t()("ul",[t()("li","Dependency injection: markdown renderers are injected, not bundled"),t()("li","No conversion corruption: content is preserved when switching modes"),t()("li","Pluggable renderers: Use marked.js, slimdown-js, or any custom renderer"),t()("li","Clean architecture: lib has zero dependencies"),t()("li","Full toolbar with proper grouping and separators"),t()("li","Dark theme support with proper contrast")]),t()("h3","Renderers:"),t()("ul",[t()("li",t()("strong","marked.js"),": Full-featured GitHub-flavored markdown with table support"),t()("li",t()("strong","slimdown-js"),": Lightweight, fast markdown renderer")])])])])]}}})})()})();
//# sourceMappingURL=bundle.e3f44584f0b68af5.js.map